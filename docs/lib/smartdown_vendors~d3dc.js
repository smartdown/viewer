(window.webpackJsonpsmartdown=window.webpackJsonpsmartdown||[]).push([[9],{232:function(t,e,n){var r,i,a;
/*!
 *  dc 3.0.8
 *  http://dc-js.github.io/dc.js/
 *  Copyright 2012-2016 Nick Zhu & the dc.js Developers
 *  https://github.com/dc-js/dc.js/blob/master/AUTHORS
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */!function(){i=[n(222),n(475)],void 0===(a="function"==typeof(r=function(t,e){"use strict";var n={version:"3.0.8",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};n.chartRegistry=function(){function t(t){return t||(t=n.constants.DEFAULT_CHART_GROUP),e[t]||(e[t]=[]),t}var e={};return{has:function(t){for(var n in e)if(e[n].indexOf(t)>=0)return!0;return!1},register:function(n,r){r=t(r),e[r].push(n)},deregister:function(n,r){r=t(r);for(var i=0;i<e[r].length;i++)if(e[r][i].anchorName()===n.anchorName()){e[r].splice(i,1);break}},clear:function(t){t?delete e[t]:e={}},list:function(n){return n=t(n),e[n]}}}(),n.registerChart=function(t,e){n.chartRegistry.register(t,e)},n.deregisterChart=function(t,e){n.chartRegistry.deregister(t,e)},n.hasChart=function(t){return n.chartRegistry.has(t)},n.deregisterAllCharts=function(t){n.chartRegistry.clear(t)},n.filterAll=function(t){for(var e=n.chartRegistry.list(t),r=0;r<e.length;++r)e[r].filterAll()},n.refocusAll=function(t){for(var e=n.chartRegistry.list(t),r=0;r<e.length;++r)e[r].focus&&e[r].focus()},n.renderAll=function(t){for(var e=n.chartRegistry.list(t),r=0;r<e.length;++r)e[r].render();null!==n._renderlet&&n._renderlet(t)},n.redrawAll=function(t){for(var e=n.chartRegistry.list(t),r=0;r<e.length;++r)e[r].redraw();null!==n._renderlet&&n._renderlet(t)},n.disableTransitions=!1,n.transition=function(t,e,r,i){if(n.disableTransitions||e<=0)return t;var a=t.transition(i);return(e>=0||void 0!==e)&&(a=a.duration(e)),(r>=0||void 0!==r)&&(a=a.delay(r)),a},n.optionalTransition=function(t,e,r,i){return t?function(t){return n.transition(t,e,r,i)}:function(t){return t}},n.afterTransition=function(t,e){if(t.empty()||!t.duration)e.call(t);else{var n=0;t.each(function(){++n}).on("end",function(){--n||e.call(t)})}},n.units={},n.units.integers=function(t,e){return Math.abs(e-t)},n.units.ordinal=function(){throw new Error("dc.units.ordinal should not be called - it is a placeholder")},n.units.fp={},n.units.fp.precision=function(t){var e=function(t,r){var i=Math.abs((r-t)/e.resolution);return n.utils.isNegligible(i-Math.floor(i))?Math.floor(i):Math.ceil(i)};return e.resolution=t,e},n.round={},n.round.floor=function(t){return Math.floor(t)},n.round.ceil=function(t){return Math.ceil(t)},n.round.round=function(t){return Math.round(t)},n.override=function(t,e,n){var r=t[e];t["_"+e]=r,t[e]=n},n.renderlet=function(t){return arguments.length?(n._renderlet=t,n):n._renderlet},n.instanceOfChart=function(t){return t instanceof Object&&t.__dcFlag__&&!0},n.errors={},n.errors.Exception=function(t){var e=t||"Unexpected internal error";this.message=e,this.toString=function(){return e},this.stack=(new Error).stack},n.errors.Exception.prototype=Object.create(Error.prototype),n.errors.Exception.prototype.constructor=n.errors.Exception,n.errors.InvalidStateException=function(){n.errors.Exception.apply(this,arguments)},n.errors.InvalidStateException.prototype=Object.create(n.errors.Exception.prototype),n.errors.InvalidStateException.prototype.constructor=n.errors.InvalidStateException,n.errors.BadArgumentException=function(){n.errors.Exception.apply(this,arguments)},n.errors.BadArgumentException.prototype=Object.create(n.errors.Exception.prototype),n.errors.BadArgumentException.prototype.constructor=n.errors.BadArgumentException,n.dateFormat=t.timeFormat("%m/%d/%Y"),n.printers={},n.printers.filters=function(t){for(var e="",r=0;r<t.length;++r)r>0&&(e+=", "),e+=n.printers.filter(t[r]);return e},n.printers.filter=function(t){var e="";return void 0!==t&&null!==t&&(t instanceof Array?t.length>=2?e="["+t.map(function(t){return n.utils.printSingleValue(t)}).join(" -> ")+"]":t.length>=1&&(e=n.utils.printSingleValue(t[0])):e=n.utils.printSingleValue(t)),e},n.pluck=function(t,e){return e?function(n,r){return e.call(n,n[t],r)}:function(e){return e[t]}},n.utils={},n.utils.printSingleValue=function(t){var e=""+t;return t instanceof Date?e=n.dateFormat(t):"string"==typeof t?e=t:n.utils.isFloat(t)?e=n.utils.printSingleValue.fformat(t):n.utils.isInteger(t)&&(e=Math.round(t)),e},n.utils.printSingleValue.fformat=t.format(".2f"),n.utils.toTimeFunc=function(t){return"time"+t.charAt(0).toUpperCase()+t.slice(1)},n.utils.add=function(e,r,i){if("string"==typeof r&&(r=r.replace("%","")),e instanceof Date)return"string"==typeof r&&(r=+r),"millis"===i?new Date(e.getTime()+r):("function"!=typeof(i=i||t.timeDay)&&(i=t[n.utils.toTimeFunc(i)]),i.offset(e,r));if("string"==typeof r){var a=+r/100;return e>0?e*(1+a):e*(1-a)}return e+r},n.utils.subtract=function(e,r,i){if("string"==typeof r&&(r=r.replace("%","")),e instanceof Date)return"string"==typeof r&&(r=+r),"millis"===i?new Date(e.getTime()-r):("function"!=typeof(i=i||t.timeDay)&&(i=t[n.utils.toTimeFunc(i)]),i.offset(e,-r));if("string"==typeof r){var a=+r/100;return e<0?e*(1+a):e*(1-a)}return e-r},n.utils.isNumber=function(t){return t===+t},n.utils.isFloat=function(t){return t===+t&&t!==(0|t)},n.utils.isInteger=function(t){return t===+t&&t===(0|t)},n.utils.isNegligible=function(t){return!n.utils.isNumber(t)||t<n.constants.NEGLIGIBLE_NUMBER&&t>-n.constants.NEGLIGIBLE_NUMBER},n.utils.clamp=function(t,e,n){return t<e?e:t>n?n:t},n.utils.constant=function(t){return function(){return t}};var r=0;return n.utils.uniqueId=function(){return++r},n.utils.nameToId=function(t){return t.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")},n.utils.appendOrSelect=function(t,e,n){n=n||e;var r=t.select(e);return r.empty()&&(r=t.append(n)),r},n.utils.safeNumber=function(t){return n.utils.isNumber(+t)?+t:0},n.utils.arraysEqual=function(t,e){return!t&&!e||!(!t||!e)&&t.length===e.length&&t.every(function(t,n){return t.valueOf()===e[n].valueOf()})},n.utils.allChildren=function(t){var e=[];if(e.push(t.path),console.log("currentNode",t),t.children)for(var r=0;r<t.children.length;r++)e=e.concat(n.utils.allChildren(t.children[r]));return e},n.utils.toHierarchy=function(t,e){for(var n={key:"root",children:[]},r=0;r<t.length;r++)for(var i=t[r],a=i.key,o=e(i),u=n,l=0;l<a.length;l++){var c,s=a.slice(0,l+1),f=u.children,d=a[l];l+1<a.length?(void 0===(c=function(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n]}(f,d))&&(c={key:d,children:[],path:s},f.push(c)),u=c):(c={key:d,value:o,data:i,path:s},f.push(c))}return n},n.utils.getAncestors=function(t){for(var e=[],n=t;n.parent;)e.unshift(n.name),n=n.parent;return e},n.utils.arraysIdentical=function(t,e){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(t[n]!==e[n])return!1;return!0},n.logger=function(){var t={enableDebugLog:!1,warn:function(e){return console&&(console.warn?console.warn(e):console.log&&console.log(e)),t}},e={};return t.warnOnce=function(r){return e[r]||(e[r]=!0,n.logger.warn(r)),t},t.debug=function(e){return t.enableDebugLog&&console&&(console.debug?console.debug(e):console.log&&console.log(e)),t},t.deprecate=function(e,n){var r=!1;return function(){return r||(t.warn(n),r=!0),e.apply(this,arguments)}},t}(),n.config=function(){var t={},e=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],r=e;return t.defaultColors=function(i){return arguments.length?(r=i,t):(r===e&&n.logger.warnOnce("You are using d3.schemeCategory20c, which has been removed in D3v5. See the explanation at https://github.com/d3/d3/blob/master/CHANGES.md#changes-in-d3-50. DC is using it for backward compatibility, however it will be changed in DCv3.1. You can change it by calling dc.config.defaultColors(newScheme). See https://github.com/d3/d3-scale-chromatic for some alternatives."),r)},t}(),n.events={current:null},n.events.trigger=function(t,e){e?(n.events.current=t,setTimeout(function(){t===n.events.current&&t()},e)):t()},n.filters={},n.filters.RangedFilter=function(t,e){var n=new Array(t,e);return n.isFiltered=function(t){return t>=this[0]&&t<this[1]},n.filterType="RangedFilter",n},n.filters.TwoDimensionalFilter=function(t){if(null===t)return null;var e=t;return e.isFiltered=function(t){return t.length&&t.length===e.length&&t[0]===e[0]&&t[1]===e[1]},e.filterType="TwoDimensionalFilter",e},n.filters.RangedTwoDimensionalFilter=function(t){if(null===t)return null;var e,n=t;return e=n[0]instanceof Array?[[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1])],[Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]]:[[t[0],-1/0],[t[1],1/0]],n.isFiltered=function(t){var n,r;return t instanceof Array?(n=t[0],r=t[1]):(n=t,r=e[0][1]),n>=e[0][0]&&n<e[1][0]&&r>=e[0][1]&&r<e[1][1]},n.filterType="RangedTwoDimensionalFilter",n},n.filters.HierarchyFilter=function(t){if(null===t)return null;var e=t.slice(0);return e.isFiltered=function(t){if(!(e.length&&t&&t.length&&t.length>=e.length))return!1;for(var n=0;n<e.length;n++)if(t[n]!==e[n])return!1;return!0},e},n.baseMixin=function(r){function i(){s&&(k?s.attr("viewBox")||s.attr("viewBox","0 0 "+r.width()+" "+r.height()):s.attr("width",r.width()).attr("height",r.height()))}function a(t){if(!r[t]||!r[t]())throw new n.errors.InvalidStateException("Mandatory attribute chart."+t+" is missing on chart[#"+r.anchorName()+"]")}r.__dcFlag__=n.utils.uniqueId();var o,u,l,c,s,f,d,h,g,p,v,y=200,x=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().width;return e&&e>y?e:y},m=x,A=200,b=function(t){var e=t&&t.getBoundingClientRect&&t.getBoundingClientRect().height;return e&&e>A?e:A},_=b,k=!1,w=n.pluck("key"),D=n.pluck("value"),C=n.pluck("key"),E=n.pluck("key"),L=!1,R=function(t){return r.keyAccessor()(t)+": "+r.valueAccessor()(t)},S=!0,M=!1,O=750,B=0,F=n.printers.filters,T=["dimension","group"],N=n.constants.DEFAULT_CHART_GROUP,H=t.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition"),G=[],z=function(t,e){return 0===e.length?t.filter(null):1!==e.length||e[0].isFiltered?1===e.length&&"RangedFilter"===e[0].filterType?t.filterRange(e[0]):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isFiltered&&r.isFiltered(t))return!0;if(r<=t&&r>=t)return!0}return!1}):t.filterExact(e[0]),e},P=function(t){return t.all()};r.height=function(t){return arguments.length?(_=t?"function"==typeof t?t:n.utils.constant(t):b,h=void 0,r):(n.utils.isNumber(h)||(h=_(c.node())),h)},r.width=function(t){return arguments.length?(m=t?"function"==typeof t?t:n.utils.constant(t):x,d=void 0,r):(n.utils.isNumber(d)||(d=m(c.node())),d)},r.minWidth=function(t){return arguments.length?(y=t,r):y},r.minHeight=function(t){return arguments.length?(A=t,r):A},r.useViewBoxResizing=function(t){return arguments.length?(k=t,r):k},r.dimension=function(t){return arguments.length?(o=t,r.expireCache(),r):o},r.data=function(t){return arguments.length?(P="function"==typeof t?t:n.utils.constant(t),r.expireCache(),r):P.call(r,u)},r.group=function(t,e){return arguments.length?(u=t,r._groupName=e,r.expireCache(),r):u},r.ordering=function(t){return arguments.length?(E=t,g=e.quicksort.by(E),r.expireCache(),r):E},r._computeOrderedGroups=function(t){var n=t.slice(0);return n.length<=1?n:(g||(g=e.quicksort.by(E)),g(n,0,n.length))},r.filterAll=function(){return r.filter(null)},r.select=function(t){return c.select(t)},r.selectAll=function(t){return c?c.selectAll(t):null},r.anchor=function(e,i){if(!arguments.length)return l;if(n.instanceOfChart(e))(l=e.anchor()).children&&(l="#"+e.anchorName()),c=e.root(),f=!0;else{if(!e)throw new n.errors.BadArgumentException("parent must be defined");l=e.select&&e.classed?e.node():e,(c=t.select(l)).classed(n.constants.CHART_CLASS,!0),n.registerChart(r,i),f=!1}return N=i,r},r.anchorName=function(){var t=r.anchor();return t&&t.id?t.id:t&&t.replace?t.replace("#",""):"dc-chart"+r.chartID()},r.root=function(t){return arguments.length?(c=t,r):c},r.svg=function(t){return arguments.length?(s=t,r):s},r.resetSvg=function(){return r.select("svg").remove(),s=r.root().append("svg"),i(),s},r.filterPrinter=function(t){return arguments.length?(F=t,r):F},r.controlsUseVisibility=function(t){return arguments.length?(M=t,r):M},r.turnOnControls=function(){if(c){var t=r.controlsUseVisibility()?"visibility":"display";r.selectAll(".reset").style(t,null),r.selectAll(".filter").text(F(r.filters())).style(t,null)}return r},r.turnOffControls=function(){if(c){var t=r.controlsUseVisibility()?"visibility":"display",e=r.controlsUseVisibility()?"hidden":"none";r.selectAll(".reset").style(t,e),r.selectAll(".filter").style(t,e).text(r.filter())}return r},r.transitionDuration=function(t){return arguments.length?(O=t,r):O},r.transitionDelay=function(t){return arguments.length?(B=t,r):B},r._mandatoryAttributes=function(t){return arguments.length?(T=t,r):T},r.render=function(){h=d=void 0,H.call("preRender",r,r),T&&T.forEach(a);var t=r._doRender();return p&&p.render(),r._activateRenderlets("postRender"),t},r._activateRenderlets=function(t){H.call("pretransition",r,r),r.transitionDuration()>0&&s?s.transition().duration(r.transitionDuration()).delay(r.transitionDelay()).on("end",function(){H.call("renderlet",r,r),t&&H.call(t,r,r)}):(H.call("renderlet",r,r),t&&H.call(t,r,r))},r.redraw=function(){i(),H.call("preRedraw",r,r);var t=r._doRedraw();return p&&p.render(),r._activateRenderlets("postRedraw"),t},r.commitHandler=function(t){return arguments.length?(v=t,r):v},r.redrawGroup=function(){return v?v(!1,function(t,e){t?console.log(t):n.redrawAll(r.chartGroup())}):n.redrawAll(r.chartGroup()),r},r.renderGroup=function(){return v?v(!1,function(t,e){t?console.log(t):n.renderAll(r.chartGroup())}):n.renderAll(r.chartGroup()),r},r._invokeFilteredListener=function(t){void 0!==t&&H.call("filtered",r,r,t)},r._invokeZoomedListener=function(){H.call("zoomed",r,r)};var U=function(t,e){return null===e||void 0===e?t.length>0:t.some(function(t){return e<=t&&e>=t})};r.hasFilterHandler=function(t){return arguments.length?(U=t,r):U},r.hasFilter=function(t){return U(G,t)};var Y=function(t,e){for(var n=0;n<t.length;n++)if(t[n]<=e&&t[n]>=e){t.splice(n,1);break}return t};r.removeFilterHandler=function(t){return arguments.length?(Y=t,r):Y};var I=function(t,e){return t.push(e),t};r.addFilterHandler=function(t){return arguments.length?(I=t,r):I};var V=function(t){return[]};return r.resetFilterHandler=function(t){return arguments.length?(V=t,r):V},r.replaceFilter=function(t){return G=V(G),r.filter(t),r},r.filter=function(t){if(!arguments.length)return G.length>0?G[0]:null;var e=G;return t instanceof Array&&t[0]instanceof Array&&!t.isFiltered?t[0].forEach(function(t){e=U(e,t)?Y(e,t):I(e,t)}):e=null===t?V(e):U(e,t)?Y(e,t):I(e,t),G=function(t){if(r.dimension()&&r.dimension().filter){var e=z(r.dimension(),t);e&&(t=e)}return t}(e),r._invokeFilteredListener(t),null!==c&&r.hasFilter()?r.turnOnControls():r.turnOffControls(),r},r.filters=function(){return G},r.highlightSelected=function(e){t.select(e).classed(n.constants.SELECTED_CLASS,!0),t.select(e).classed(n.constants.DESELECTED_CLASS,!1)},r.fadeDeselected=function(e){t.select(e).classed(n.constants.SELECTED_CLASS,!1),t.select(e).classed(n.constants.DESELECTED_CLASS,!0)},r.resetHighlight=function(e){t.select(e).classed(n.constants.SELECTED_CLASS,!1),t.select(e).classed(n.constants.DESELECTED_CLASS,!1)},r.onClick=function(t){var e=r.keyAccessor()(t);n.events.trigger(function(){r.filter(e),r.redrawGroup()})},r.filterHandler=function(t){return arguments.length?(z=t,r):z},r._doRender=function(){return r},r._doRedraw=function(){return r},r.legendables=function(){return[]},r.legendHighlight=function(){},r.legendReset=function(){},r.legendToggle=function(){},r.isLegendableHidden=function(){return!1},r.keyAccessor=function(t){return arguments.length?(w=t,r):w},r.valueAccessor=function(t){return arguments.length?(D=t,r):D},r.label=function(t,e){return arguments.length?(C=t,(void 0===e||e)&&(L=!0),r):C},r.renderLabel=function(t){return arguments.length?(L=t,r):L},r.title=function(t){return arguments.length?(R=t,r):R},r.renderTitle=function(t){return arguments.length?(S=t,r):S},r.renderlet=n.logger.deprecate(function(t){return r.on("renderlet."+n.utils.uniqueId(),t),r},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)'),r.chartGroup=function(t){return arguments.length?(f||n.deregisterChart(r,N),N=t,f||n.registerChart(r,N),r):N},r.expireCache=function(){return r},r.legend=function(t){return arguments.length?((p=t).parent(r),r):p},r.chartID=function(){return r.__dcFlag__},r.options=function(t){var e=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var i in t)"function"==typeof r[i]?t[i]instanceof Array&&-1!==e.indexOf(i)?r[i].apply(r,t[i]):r[i].call(r,t[i]):n.logger.debug("Not a valid option setter name: "+i);return r},r.on=function(t,e){return H.on(t,e),r},r},n.marginMixin=function(t){var e={top:10,right:50,bottom:30,left:30};return t.margins=function(n){return arguments.length?(e=n,t):e},t.effectiveWidth=function(){return t.width()-t.margins().left-t.margins().right},t.effectiveHeight=function(){return t.height()-t.margins().top-t.margins().bottom},t},n.colorMixin=function(e){var r=t.scaleOrdinal(n.config.defaultColors()),i=!0,a=function(t){return e.keyAccessor()(t)};return e.colors=function(i){return arguments.length?(r=i instanceof Array?t.scaleQuantize().range(i):"function"==typeof i?i:n.utils.constant(i),e):r},e.ordinalColors=function(n){return e.colors(t.scaleOrdinal().range(n))},e.linearColors=function(n){return e.colors(t.scaleLinear().range(n).interpolate(t.interpolateHcl))},e.colorAccessor=function(t){return arguments.length?(a=t,i=!1,e):a},e.defaultColorAccessor=function(){return i},e.colorDomain=function(t){return arguments.length?(r.domain(t),e):r.domain()},e.calculateColorDomain=function(){var n=[t.min(e.data(),e.colorAccessor()),t.max(e.data(),e.colorAccessor())];return r.domain(n),e},e.getColor=function(t,e){return r(a.call(this,t,e))},e.colorCalculator=n.logger.deprecate(function(t){return arguments.length?(e.getColor=t,e):e.getColor},"colorMixin.colorCalculator has been deprecated. Please colorMixin.colors and colorMixin.colorAccessor instead"),e},n.coordinateGridMixin=function(e){function r(r,i){e.isOrdinal()?(y.bandwidth||(n.logger.warn("For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need d3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). Replacing .x() with a d3.scaleBand with the same domain - make the same change in your code to avoid this warning!"),y=t.scaleBand().domain(y.domain())),(e.elasticX()||0===y.domain().length)&&y.domain(e._ordinalXDomain())):e.elasticX()&&y.domain([e.xAxisMin(),e.xAxisMax()]);var a=y.domain();!i&&n.utils.arraysEqual(b,a)||e.rescale(),b=a,e.isOrdinal()?y.range([0,e.xAxisLength()]).paddingInner(Q).paddingOuter(e._useOuterPadding()?$:0):y.range([0,e.xAxisLength()]),R=R.scale(e.x()),function(t){var r=t.select("g."+d);if(I){r.empty()&&(r=t.insert("g",":first-child").attr("class",f+" "+d).attr("transform","translate("+e.margins().left+","+e.margins().top+")"));var i=R.tickValues()?R.tickValues():"function"==typeof y.ticks?y.ticks.apply(y,R.tickArguments()):y.domain(),a=r.selectAll("line").data(i),o=a.enter().append("line").attr("x1",function(t){return y(t)}).attr("y1",e._xAxisY()-e.margins().top).attr("x2",function(t){return y(t)}).attr("y2",0).attr("opacity",0);n.transition(o,e.transitionDuration(),e.transitionDelay()).attr("opacity",1);var u=o.merge(a);n.transition(u,e.transitionDuration(),e.transitionDelay()).attr("x1",function(t){return y(t)}).attr("y1",e._xAxisY()-e.margins().top).attr("x2",function(t){return y(t)}).attr("y2",0),a.exit().remove()}else r.selectAll("line").remove()}(r)}function i(){return tt?t.axisRight():t.axisLeft()}function a(){return e.anchorName().replace(/[ .#=\[\]"]/g,"-")+"-clip"}function o(){var t=n.utils.appendOrSelect(g,"defs"),r=a(),i=n.utils.appendOrSelect(t,"#"+r,"clipPath").attr("id",r),o=2*Z;n.utils.appendOrSelect(i,"rect").attr("width",e.xAxisLength()+o).attr("height",e.yAxisHeight()+o).attr("transform","translate(-"+Z+", -"+Z+")")}function u(t){e.isOrdinal()&&(P=!1),r(e.g(),t),e._prepareYAxis(e.g()),e.plotData(),(e.elasticX()||V||t)&&e.renderXAxis(e.g()),(e.elasticY()||V||t)&&e.renderYAxis(e.g()),t?e.renderBrush(e.g(),!1):e.redrawBrush(e.filter(),V),e.fadeDeselectedArea(e.filter()),V=!1}function l(t,r){var i;!function(t){return t instanceof Array&&t.length>1}(t)?(e.x().domain(m),i=null):(e.x().domain(t),i=n.filters.RangedFilter(t[0],t[1])),e.replaceFilter(i),e.rescale(),e.redraw(),r||(E&&!n.utils.arraysEqual(e.filter(),E.filter())&&n.events.trigger(function(){E.replaceFilter(i),E.redraw()}),e._invokeZoomedListener(),n.events.trigger(function(){e.redrawGroup()},n.constants.EVENT_DELAY))}function c(){X&&X.transform(e.root(),function(e,n,r){var i=(n[1]-n[0])/(e[1]-e[0]),a=-1*r(e[0]);return t.zoomIdentity.scale(i).translate(a,0)}(e.x().domain(),m,x))}function s(t,e){return t&&2===t.length&&e&&2===e.length?((t[0]>e[1]||t[1]<e[0])&&console.warn("Could not intersect extents, will reset"),[t[0]>e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1]]):t}var f="grid-line",d="vertical",h="custom-brush-handle";(e=n.colorMixin(n.marginMixin(n.baseMixin(e)))).colors(t.scaleOrdinal(t.schemeCategory10)),e._mandatoryAttributes().push("x");var g,p,v,y,x,m,A,b,_,k,w,D,C,E,L,R=t.axisBottom(),S=n.units.integers,M=0,O=t.timeDay,B=!1,F=0,T=null,N=0,H=!1,G=0,z=t.brushX(),P=!0,U=!1,Y=!1,I=!1,V=!1,j=[1,1/0],q=!0,X=t.zoom().on("zoom",function(){if(t.event.sourceEvent&&(!t.event.sourceEvent.type||-1===["start","zoom","end"].indexOf(t.event.sourceEvent.type))){var n=t.event.transform.rescaleX(x).domain();e.focus(n,!1)}}),W=t.zoom().on("zoom",null),K=!1,J=!1,Z=0,$=.5,Q=0,tt=!1;return e.rescale=function(){return C=void 0,V=!0,e},e.resizing=function(){return V},e.rangeChart=function(t){return arguments.length?((E=t).focusChart(e),e):E},e.zoomScale=function(t){return arguments.length?(j=t,e):j},e.zoomOutRestrict=function(t){return arguments.length?(q=t,e):q},e._generateG=function(t){g=void 0===t?e.svg():t;var n=window.location.href.split("#")[0];return p=g.append("g"),v=p.append("g").attr("class","chart-body").attr("transform","translate("+e.margins().left+", "+e.margins().top+")").attr("clip-path","url("+n+"#"+a()+")"),p},e.g=function(t){return arguments.length?(p=t,e):p},e.mouseZoomable=function(t){return arguments.length?(J=t,e):J},e.chartBodyG=function(t){return arguments.length?(v=t,e):v},e.x=function(t){return arguments.length?(m=(y=t).domain(),e.rescale(),e):y},e.xOriginalDomain=function(){return m},e.xUnits=function(t){return arguments.length?(S=t,e):S},e.xAxis=function(t){return arguments.length?(R=t,e):R},e.elasticX=function(t){return arguments.length?(B=t,e):B},e.xAxisPadding=function(t){return arguments.length?(M=t,e):M},e.xAxisPaddingUnit=function(t){return arguments.length?(O=t,e):O},e.xUnitCount=function(){return void 0===C&&(e.isOrdinal()?C=e.x().domain().length:(C=e.xUnits()(e.x().domain()[0],e.x().domain()[1]))instanceof Array&&(C=C.length)),C},e.useRightYAxis=function(t){return arguments.length?(tt!==t&&T&&n.logger.warn("Value of useRightYAxis has been altered, after yAxis was created. You might get unexpected yAxis behavior. Make calls to useRightYAxis sooner in your chart creation process."),tt=t,e):tt},e.isOrdinal=function(){return e.xUnits()===n.units.ordinal},e._useOuterPadding=function(){return!0},e._ordinalXDomain=function(){return e._computeOrderedGroups(e.data()).map(e.keyAccessor())},e.renderXAxis=function(t){var r=t.select("g.x");r.empty()&&(r=t.append("g").attr("class","axis x").attr("transform","translate("+e.margins().left+","+e._xAxisY()+")"));var i=t.select("text.x-axis-label");i.empty()&&e.xAxisLabel()&&(i=t.append("text").attr("class","x-axis-label").attr("transform","translate("+(e.margins().left+e.xAxisLength()/2)+","+(e.height()-F)+")").attr("text-anchor","middle")),e.xAxisLabel()&&i.text()!==e.xAxisLabel()&&i.text(e.xAxisLabel()),n.transition(r,e.transitionDuration(),e.transitionDelay()).attr("transform","translate("+e.margins().left+","+e._xAxisY()+")").call(R),n.transition(i,e.transitionDuration(),e.transitionDelay()).attr("transform","translate("+(e.margins().left+e.xAxisLength()/2)+","+(e.height()-F)+")")},e._xAxisY=function(){return e.height()-e.margins().bottom},e.xAxisLength=function(){return e.effectiveWidth()},e.xAxisLabel=function(t,n){return arguments.length?(A=t,e.margins().bottom-=F,F=void 0===n?12:n,e.margins().bottom+=F,e):A},e._prepareYAxis=function(n){if(void 0===_||e.elasticY()){void 0===_&&(_=t.scaleLinear());var r=e.yAxisMin()||0,a=e.yAxisMax()||0;_.domain([r,a]).rangeRound([e.yAxisHeight(),0])}_.range([e.yAxisHeight(),0]),T||(T=i()),T.scale(_),e._renderHorizontalGridLinesForAxis(n,_,T)},e.renderYAxisLabel=function(t,r,i,a){a=a||G;var o=e.g().select("text.y-axis-label."+t+"-label"),u=e.margins().top+e.yAxisHeight()/2;o.empty()&&r&&(o=e.g().append("text").attr("transform","translate("+a+","+u+"),rotate("+i+")").attr("class","y-axis-label "+t+"-label").attr("text-anchor","middle").text(r)),r&&o.text()!==r&&o.text(r),n.transition(o,e.transitionDuration(),e.transitionDelay()).attr("transform","translate("+a+","+u+"),rotate("+i+")")},e.renderYAxisAt=function(t,r,i){var a=e.g().select("g."+t);a.empty()&&(a=e.g().append("g").attr("class","axis "+t).attr("transform","translate("+i+","+e.margins().top+")")),n.transition(a,e.transitionDuration(),e.transitionDelay()).attr("transform","translate("+i+","+e.margins().top+")").call(r)},e.renderYAxis=function(){var t=tt?e.width()-e.margins().right:e._yAxisX();e.renderYAxisAt("y",T,t);var n=tt?e.width()-G:G,r=tt?90:-90;e.renderYAxisLabel("y",e.yAxisLabel(),r,n)},e._renderHorizontalGridLinesForAxis=function(t,r,i){var a=t.select("g.horizontal");if(Y){var o=i.tickValues()?i.tickValues():r.ticks?r.ticks.apply(r,i.tickArguments()):r.domain();a.empty()&&(a=t.insert("g",":first-child").attr("class",f+" horizontal").attr("transform","translate("+e.margins().left+","+e.margins().top+")"));var u=a.selectAll("line").data(o),l=u.enter().append("line").attr("x1",1).attr("y1",function(t){return r(t)}).attr("x2",e.xAxisLength()).attr("y2",function(t){return r(t)}).attr("opacity",0);n.transition(l,e.transitionDuration(),e.transitionDelay()).attr("opacity",1);var c=l.merge(u);n.transition(c,e.transitionDuration(),e.transitionDelay()).attr("x1",1).attr("y1",function(t){return r(t)}).attr("x2",e.xAxisLength()).attr("y2",function(t){return r(t)}),u.exit().remove()}else a.selectAll("line").remove()},e._yAxisX=function(){return e.useRightYAxis()?e.width()-e.margins().right:e.margins().left},e.yAxisLabel=function(t,n){return arguments.length?(k=t,e.margins().left-=G,G=void 0===n?12:n,e.margins().left+=G,e):k},e.y=function(t){return arguments.length?(_=t,e.rescale(),e):_},e.yAxis=function(t){return arguments.length?(T=t,e):(T||(T=i()),T)},e.elasticY=function(t){return arguments.length?(H=t,e):H},e.renderHorizontalGridLines=function(t){return arguments.length?(Y=t,e):Y},e.renderVerticalGridLines=function(t){return arguments.length?(I=t,e):I},e.xAxisMin=function(){var r=t.min(e.data(),function(t){return e.keyAccessor()(t)});return n.utils.subtract(r,M,O)},e.xAxisMax=function(){var r=t.max(e.data(),function(t){return e.keyAccessor()(t)});return n.utils.add(r,M,O)},e.yAxisMin=function(){var r=t.min(e.data(),function(t){return e.valueAccessor()(t)});return n.utils.subtract(r,N)},e.yAxisMax=function(){var r=t.max(e.data(),function(t){return e.valueAccessor()(t)});return n.utils.add(r,N)},e.yAxisPadding=function(t){return arguments.length?(N=t,e):N},e.yAxisHeight=function(){return e.effectiveHeight()},e.round=function(t){return arguments.length?(D=t,e):D},e._rangeBandPadding=function(t){return arguments.length?(Q=t,e):Q},e._outerRangeBandPadding=function(t){return arguments.length?($=t,e):$},n.override(e,"filter",function(t){return arguments.length?(e._filter(t),e.redrawBrush(t,!1),e):e._filter()}),e.brush=function(t){return arguments.length?(z=t,e):z},e.renderBrush=function(t,n){P&&(z.on("start brush end",e._brushing),w=t.append("g").attr("class","brush").attr("transform","translate("+e.margins().left+","+e.margins().top+")"),e.setBrushExtents(),e.createBrushHandlePaths(w,n),e.redrawBrush(e.filter(),n))},e.createBrushHandlePaths=function(t){var n=t.selectAll("path."+h).data([{type:"w"},{type:"e"}]);(n=n.enter().append("path").attr("class",h).merge(n)).attr("d",e.resizeHandlePath)},e.extendBrush=function(t){return t&&e.round()&&(t[0]=e.round()(t[0]),t[1]=e.round()(t[1])),t},e.brushIsEmpty=function(t){return!t||t[1]<=t[0]},e._brushing=function(){if(t.event.sourceEvent&&(!t.event.sourceEvent.type||-1===["start","brush","end"].indexOf(t.event.sourceEvent.type))){var r=t.event.selection;r&&(r=r.map(e.x().invert)),r=e.extendBrush(r),e.redrawBrush(r,!1);var i=e.brushIsEmpty(r)?null:n.filters.RangedFilter(r[0],r[1]);n.events.trigger(function(){e.applyBrushSelection(i)},n.constants.EVENT_DELAY)}},e.applyBrushSelection=function(t){e.replaceFilter(t),e.redrawGroup()},e.setBrushExtents=function(t){z.extent([[0,0],[e.effectiveWidth(),e.effectiveHeight()]]),w.call(z)},e.redrawBrush=function(t,r){if(P&&w)if(V&&e.setBrushExtents(r),t){var i=[y(t[0]),y(t[1])],a=n.optionalTransition(r,e.transitionDuration(),e.transitionDelay())(w);a.call(z.move,i),a.selectAll("path."+h).attr("display",null).attr("transform",function(e,n){return"translate("+y(t[n])+", 0)"}).attr("d",e.resizeHandlePath)}else w.call(z.move,null),w.selectAll("path."+h).attr("display","none");e.fadeDeselectedArea(t)},e.fadeDeselectedArea=function(t){},e.resizeHandlePath=function(t){var n=+("e"===(t=t.type)),r=n?1:-1,i=e.effectiveHeight()/3;return"M"+.5*r+","+i+"A6,6 0 0 "+n+" "+6.5*r+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+n+" "+.5*r+","+2*i+"ZM"+2.5*r+","+(i+8)+"V"+(2*i-8)+"M"+4.5*r+","+(i+8)+"V"+(2*i-8)},e.clipPadding=function(t){return arguments.length?(Z=t,e):Z},e._preprocessData=function(){},e._doRender=function(){return e.resetSvg(),e._preprocessData(),e._generateG(),o(),u(!0),x=y.copy(),J?e._enableMouseZoom():K&&e._disableMouseZoom(),e},e._doRedraw=function(){return e._preprocessData(),u(!1),o(),e},e._enableMouseZoom=function(){K=!0;var t=[[0,0],[e.effectiveWidth(),e.effectiveHeight()]];if(X.scaleExtent(j).extent(t).duration(e.transitionDuration()),q){var n=Math.max(j[0],1);X.translateExtent(t).scaleExtent([n,j[1]])}e.root().call(X),c()},e._disableMouseZoom=function(){e.root().call(W)},e.focus=function(t,e){q&&(t=s(t,m),E&&(t=s(t,E.x().domain()))),l(t,e),c()},e.refocused=function(){return!n.utils.arraysEqual(e.x().domain(),m)},e.focusChart=function(t){return arguments.length?(L=t,e.on("filtered.dcjs-range-chart",function(t){t.filter()?n.utils.arraysEqual(t.filter(),L.filter())||n.events.trigger(function(){L.focus(t.filter(),!0)}):n.events.trigger(function(){L.x().domain(L.xOriginalDomain(),!0)})}),e):L},e.brushOn=function(t){return arguments.length?(P=t,e):P},e.parentBrushOn=function(t){return arguments.length?(U=t,e):U},e.gBrush=function(){return w},e},n.stackMixin=function(e){function r(t,r){var i=t.accessor||e.valueAccessor();t.name=String(t.name||r);var a=t.group.all().map(function(n,r){return{x:e.keyAccessor()(n,r),y:t.hidden?null:i(n,r),data:n,layer:t.name,hidden:t.hidden}});t.domainValues=a.filter(function(){if(!e.x())return n.utils.constant(!0);var t=e.x().domain();return e.isOrdinal()?function(){return!0}:e.elasticX()?function(){return!0}:function(e){return e.x>=t[0]&&e.x<=t[t.length-1]}}()),t.values=e.evadeDomainFilter()?a:t.domainValues}function i(t){var e=l.map(n.pluck("name")).indexOf(t);return l[e]}function a(){var t=e.data().map(function(t){return t.domainValues});return Array.prototype.concat.apply([],t)}function o(t){return!t.hidden}var u=t.stack(),l=[],c={},s=!1,f=!1;return e.stack=function(t,n,r){if(!arguments.length)return l;arguments.length<=2&&(r=n);var i={group:t};return"string"==typeof n&&(i.name=n),"function"==typeof r&&(i.accessor=r),l.push(i),e},n.override(e,"group",function(t,n,r){return arguments.length?(l=[],c={},e.stack(t,n),r&&e.valueAccessor(r),e._group(t,n)):e._group()}),e.hidableStacks=function(t){return arguments.length?(s=t,e):s},e.hideStack=function(t){var n=i(t);return n&&(n.hidden=!0),e},e.showStack=function(t){var n=i(t);return n&&(n.hidden=!1),e},e.getValueAccessorByIndex=function(t){return l[t].accessor||e.valueAccessor()},e.yAxisMin=function(){var r=t.min(a(),function(t){return t.y<0?t.y+t.y0:t.y0});return n.utils.subtract(r,e.yAxisPadding())},e.yAxisMax=function(){var r=t.max(a(),function(t){return t.y>0?t.y+t.y0:t.y0});return n.utils.add(r,e.yAxisPadding())},e.xAxisMin=function(){var r=t.min(a(),n.pluck("x"));return n.utils.subtract(r,e.xAxisPadding(),e.xAxisPaddingUnit())},e.xAxisMax=function(){var r=t.max(a(),n.pluck("x"));return n.utils.add(r,e.xAxisPadding(),e.xAxisPaddingUnit())},n.override(e,"title",function(t,n){return t?"function"==typeof t?e._title(t):t===e._groupName&&"function"==typeof n?e._title(n):"function"!=typeof n?c[t]||e._title():(c[t]=n,e):e._title()}),e.stackLayout=function(t){return arguments.length?(u=t,e):u},e.evadeDomainFilter=function(t){return arguments.length?(f=t,e):f},e.data(function(){var t=l.filter(o);if(!t.length)return[];t.forEach(r);var n=t[0].values.map(function(e,n){var r={x:e.x};return t.forEach(function(t){r[t.name]=t.values[n].y}),r}),i=t.map(function(t){return t.name});return e.stackLayout().keys(i)(n).forEach(function(e,n){e.forEach(function(e,r){t[n].values[r].y0=e[0],t[n].values[r].y1=e[1]})}),t}),e._ordinalXDomain=function(){var t=a().map(n.pluck("data"));return e._computeOrderedGroups(t).map(e.keyAccessor())},e.colorAccessor(function(t){return this.layer||this.name||t.name||t.layer}),e.legendables=function(){return l.map(function(t,n){return{chart:e,name:t.name,hidden:t.hidden||!1,color:e.getColor.call(t,t.values,n)}})},e.isLegendableHidden=function(t){var e=i(t.name);return!!e&&e.hidden},e.legendToggle=function(t){s&&(e.isLegendableHidden(t)?e.showStack(t.name):e.hideStack(t.name),e.renderGroup())},e},n.capMixin=function(e){var r=1/0,i=!0,a="Others";e.ordering(function(t){return-t.value});var o=function(n,r){var i=t.sum(r,e.valueAccessor()),a=r.map(e.keyAccessor());return i>0?n.concat([{others:a,key:e.othersLabel(),value:i}]):n};return e.cappedKeyAccessor=function(t,n){return t.others?t.key:e.keyAccessor()(t,n)},e.cappedValueAccessor=function(t,n){return t.others?t.value:e.valueAccessor()(t,n)},e.data(function(t){if(r===1/0)return e._computeOrderedGroups(t.all());var n,a=t.all();if(a=e._computeOrderedGroups(a),r)if(i)n=a.slice(r),a=a.slice(0,r);else{var u=Math.max(0,a.length-r);n=a.slice(0,u),a=a.slice(u)}return o?o(a,n):a}),e.cap=function(t){return arguments.length?(r=t,e):r},e.takeFront=function(t){return arguments.length?(i=t,e):i},e.othersLabel=function(t){return arguments.length?(a=t,e):a},e.othersGrouper=function(t){return arguments.length?(o=t,e):o},n.override(e,"onClick",function(t){t.others&&e.filter([t.others]),e._onClick(t)}),e},n.bubbleMixin=function(e){var r=.3,i=10,a=!1,o=!1;e.BUBBLE_NODE_CLASS="node",e.BUBBLE_CLASS="bubble",e.MIN_RADIUS=10,(e=n.colorMixin(e)).renderLabel(!0),e.data(function(n){var r=n.all();if(a){var i=e.radiusValueAccessor();r.sort(function(e,n){return t.descending(i(e),i(n))})}return r});var u=t.scaleLinear().domain([0,100]),l=function(t){return t.r};e.r=function(t){return arguments.length?(u=t,e):u},e.elasticRadius=function(t){return arguments.length?(o=t,e):o},e.calculateRadiusDomain=function(){o&&e.r().domain([e.rMin(),e.rMax()])},e.radiusValueAccessor=function(t){return arguments.length?(l=t,e):l},e.rMin=function(){return t.min(e.data(),function(t){return e.radiusValueAccessor()(t)})},e.rMax=function(){return t.max(e.data(),function(t){return e.radiusValueAccessor()(t)})},e.bubbleR=function(t){var n=e.radiusValueAccessor()(t),r=e.r()(n);return(isNaN(r)||n<=0)&&(r=0),r};var c=function(t){return e.label()(t)},s=function(t){return e.bubbleR(t)>i},f=function(t){return s(t)?1:0},d=function(t){return s(t)?"all":"none"};e._doRenderLabel=function(t){if(e.renderLabel()){var r=t.select("text");r.empty()&&(r=t.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",e.onClick)),r.attr("opacity",0).attr("pointer-events",d).text(c),n.transition(r,e.transitionDuration(),e.transitionDelay()).attr("opacity",f)}},e.doUpdateLabels=function(t){if(e.renderLabel()){var r=t.select("text").attr("pointer-events",d).text(c);n.transition(r,e.transitionDuration(),e.transitionDelay()).attr("opacity",f)}};var h=function(t){return e.title()(t)};return e._doRenderTitles=function(t){e.renderTitle()&&t.select("title").empty()&&t.append("title").text(h)},e.doUpdateTitles=function(t){e.renderTitle()&&t.select("title").text(h)},e.sortBubbleSize=function(t){return arguments.length?(a=t,e):a},e.minRadius=function(t){return arguments.length?(e.MIN_RADIUS=t,e):e.MIN_RADIUS},e.minRadiusWithLabel=function(t){return arguments.length?(i=t,e):i},e.maxBubbleRelativeSize=function(t){return arguments.length?(r=t,e):r},e.fadeDeselectedArea=function(t){e.hasFilter()?e.selectAll("g."+e.BUBBLE_NODE_CLASS).each(function(t){e.isSelectedNode(t)?e.highlightSelected(this):e.fadeDeselected(this)}):e.selectAll("g."+e.BUBBLE_NODE_CLASS).each(function(){e.resetHighlight(this)})},e.isSelectedNode=function(t){return e.hasFilter(t.key)},e.onClick=function(t){var r=t.key;n.events.trigger(function(){e.filter(r),e.redrawGroup()})},e},n.pieChart=function(e,r){function i(){var e=t.min([M.width(),M.height()])/2;p=v&&v<e?v:e;var r,i=l(),g=t.pie().sort(null).value(M.cappedValueAccessor);if(t.sum(M.data(),M.cappedValueAccessor)?(r=g(M.data()),y.classed(D,!1)):(r=g([{key:C,value:1,others:[C]}]),y.classed(D,!0)),y){var x=y.select("g."+k).selectAll("g."+b).data(r),m=y.select("g."+w).selectAll("text."+_).data(r);!function(t,e){x.exit().remove(),e.exit().remove()}(0,m),function(t,e,r,i){var l=function(t){return t.enter().append("g").attr("class",function(t,e){return b+" _"+e})}(x);(function(t,e){var r=l.append("path").attr("fill",f).on("click",d).attr("d",function(t,n){return h(t,n,e)}),i=n.transition(r,M.transitionDuration(),M.transitionDelay());i.attrTween&&i.attrTween("d",s)})(0,r),function(t){M.renderTitle()&&t.append("title").text(function(t){return M.title()(t.data)})}(l),function(t,e,n){M.renderLabel()&&(a(t.enter().append("text").attr("class",function(t,e){var n=b+" "+_+" _"+e;return A&&(n+=" external"),n}).on("click",d).on("mouseover",function(t,e){o(e,!0)}).on("mouseout",function(t,e){o(e,!1)}),n),A&&S&&u(e,n))}(e,i,r)}(0,m,i,r),function(t,e){(function(t,e){var r=y.selectAll("g."+b).data(t).select("path").attr("d",function(t,n){return h(t,n,e)}),i=n.transition(r,M.transitionDuration(),M.transitionDelay());i.attrTween&&i.attrTween("d",s),i.attr("fill",f)})(t,e),function(t,e){M.renderLabel()&&(a(y.selectAll("text."+_).data(t),e),A&&S&&u(t,e))}(t,e),function(t){M.renderTitle()&&y.selectAll("g."+b).data(t).select("title").text(function(t){return M.title()(t.data)})}(t)}(r,i),M.hasFilter()?M.selectAll("g."+b).each(function(t){c(t)?M.highlightSelected(this):M.fadeDeselected(this)}):M.selectAll("g."+b).each(function(){M.resetHighlight(this)}),n.transition(y,M.transitionDuration(),M.transitionDelay()).attr("transform","translate("+M.cx()+","+M.cy()+")")}}function a(e,r){M._applyLabelText(e),n.transition(e,M.transitionDuration(),M.transitionDelay()).attr("transform",function(e){return function(e,n){var r;return r=A?t.arc().outerRadius(p-L+A).innerRadius(p-L+A).centroid(e):n.centroid(e),isNaN(r[0])||isNaN(r[1])?"translate(0,0)":"translate("+r+")"}(e,r)}).attr("text-anchor","middle")}function o(t,e){M.select("g.pie-slice._"+t).classed("highlight",e)}function u(e,r){var i=y.selectAll("polyline."+b).data(e);i.exit().remove(),i=i.enter().append("polyline").attr("class",function(t,e){return"pie-path _"+e+" "+b}).on("click",d).on("mouseover",function(t,e){o(e,!0)}).on("mouseout",function(t,e){o(e,!1)}).merge(i);var a=t.arc().outerRadius(p-L+A).innerRadius(p-L),u=n.transition(i,M.transitionDuration(),M.transitionDelay());u.attrTween?u.attrTween("points",function(e){var n=this._current||e;n={startAngle:n.startAngle,endAngle:n.endAngle};var i=t.interpolate(n,e);return this._current=i(0),function(t){var e=i(t);return[r.centroid(e),a.centroid(e)]}}):u.attr("points",function(t){return[r.centroid(t),a.centroid(t)]}),u.style("visibility",function(t){return t.endAngle-t.startAngle<1e-4?"hidden":"visible"})}function l(){return t.arc().outerRadius(p-L).innerRadius(E)}function c(t){return M.hasFilter(M.cappedKeyAccessor(t.data))}function s(e){e.innerRadius=E;var n=this._current;n=function(t){return!t||isNaN(t.startAngle)||isNaN(t.endAngle)}(n)?{startAngle:0,endAngle:0}:{startAngle:n.startAngle,endAngle:n.endAngle};var r=t.interpolate(n,e);return this._current=r(0),function(t){return h(r(t),0,l())}}function f(t,e){return M.getColor(t.data,e)}function d(t,e){y.attr("class")!==D&&M.onClick(t.data,e)}function h(t,e,n){var r=n(t,e);return r.indexOf("NaN")>=0&&(r="M0,0"),r}function g(e,n){M.selectAll("g.pie-slice").each(function(r){e.name===r.data.key&&t.select(this).classed("highlight",n)})}var p,v,y,x,m,A,b="pie-slice",_="pie-label",k="pie-slice-group",w="pie-label-group",D="empty-chart",C="empty",E=0,L=0,R=.5,S=!1,M=n.capMixin(n.colorMixin(n.baseMixin({})));return M.colorAccessor(M.cappedKeyAccessor),M.title(function(t){return M.cappedKeyAccessor(t)+": "+M.cappedValueAccessor(t)}),M.slicesCap=M.cap,M.label(M.cappedKeyAccessor),M.renderLabel(!0),M.transitionDuration(350),M.transitionDelay(0),M._doRender=function(){return M.resetSvg(),(y=M.svg().append("g").attr("transform","translate("+M.cx()+","+M.cy()+")")).append("g").attr("class",k),y.append("g").attr("class",w),i(),M},M._applyLabelText=function(t){t.text(function(t){return!function(t){return 0===M.cappedValueAccessor(t)}(t.data)&&!function(t){var e=t.endAngle-t.startAngle;return isNaN(e)||e<R}(t)||c(t)?M.label()(t.data):""})},M.externalRadiusPadding=function(t){return arguments.length?(L=t,M):L},M.innerRadius=function(t){return arguments.length?(E=t,M):E},M.radius=function(t){return arguments.length?(v=t,M):v},M.cx=function(t){return arguments.length?(x=t,M):x||M.width()/2},M.cy=function(t){return arguments.length?(m=t,M):m||M.height()/2},M._doRedraw=function(){return i(),M},M.minAngleForLabel=function(t){return arguments.length?(R=t,M):R},M.emptyTitle=function(t){return 0===arguments.length?C:(C=t,M)},M.externalLabels=function(t){return 0===arguments.length?A:(A=t||void 0,M)},M.drawPaths=function(t){return 0===arguments.length?S:(S=t,M)},M.legendables=function(){return M.data().map(function(t,e){var n={name:t.key,data:t.value,others:t.others,chart:M};return n.color=M.getColor(t,e),n})},M.legendHighlight=function(t){g(t,!0)},M.legendReset=function(t){g(t,!1)},M.legendToggle=function(t){M.onClick({key:t.name,others:t.others})},M.anchor(e,r)},n.sunburstChart=function(e,r){function i(t){return t.path?t.value:D.cappedValueAccessor(t)}function a(){var e=t.min([D.width(),D.height()])/2;g=p&&p<e?p:e;var r,i=u();if(t.sum(D.data(),D.valueAccessor())?((r=l(n.utils.toHierarchy(D.data(),D.valueAccessor()))).shift(),v.classed(b,!1)):(r=l(n.utils.toHierarchy([],function(t){return t.value})),v.classed(b,!0)),v){var a=v.selectAll("g."+A).data(r);!function(t,e,r){var i=function(t){return t.enter().append("g").attr("class",function(t,e){return A+" _"+e+" "+A+"-level-"+t.depth})}(a);(function(t,e){var r=t.append("path").attr("fill",s).on("click",f).attr("d",function(t){return d(e,t)}),i=n.transition(r,D.transitionDuration());i.attrTween&&i.attrTween("d",c)})(i,e),function(t){D.renderTitle()&&t.append("title").text(function(t){return D.title()(t)})}(i),function(t,e){if(D.renderLabel()){var n=v.selectAll("text."+A).data(t);n.exit().remove(),o(n.enter().append("text").attr("class",function(t,e){var n=A+" _"+e;return m&&(n+=" external"),n}).on("click",f),e)}}(r,e)}(0,i,r),function(t,e){(function(t,e){var r=v.selectAll("g."+A).data(t).select("path").attr("d",function(t,n){return d(e,t)}),i=n.transition(r,D.transitionDuration());i.attrTween&&i.attrTween("d",c),i.attr("fill",s)})(t,e),function(t,e){D.renderLabel()&&o(v.selectAll("text."+A).data(t),e)}(t,e),function(t){D.renderTitle()&&v.selectAll("g."+A).data(t).select("title").text(function(t){return D.title()(t)})}(t)}(r,i),a.exit().remove(),D.hasFilter()?D.selectAll("g."+A).each(function(t){!function(t){return function(t){for(var e=0;e<D.filters().length;e++)if(D.filters()[e].isFiltered(t))return!0;return!1}(t.path)}(t)?D.fadeDeselected(this):D.highlightSelected(this)}):D.selectAll("g."+A).each(function(t){D.resetHighlight(this)}),n.transition(v,D.transitionDuration(),D.transitionDelay()).attr("transform","translate("+D.cx()+","+D.cy()+")")}}function o(e,r){n.transition(e,D.transitionDuration()).attr("transform",function(e){return function(e,n){var r;return r=m?t.svg.arc().outerRadius(g+m).innerRadius(g+m).centroid(e):n.centroid(e),isNaN(r[0])||isNaN(r[1])?"translate(0,0)":"translate("+r+")"}(e,r)}).attr("text-anchor","middle").text(function(t){return function(t){return 0===i(t)}(t)||function(t){var e=t.x1-t.x0;return isNaN(e)||e<w}(t)?"":D.label()(t)})}function u(){return t.arc().startAngle(function(t){return t.x0}).endAngle(function(t){return t.x1}).innerRadius(function(t){return t.data.path&&1===t.data.path.length?k:Math.sqrt(t.y0)}).outerRadius(function(t){return Math.sqrt(t.y1)})}function l(e){var n=t.hierarchy(e).sum(function(t){return t.children?0:i(t)}).sort(function(e,n){return t.ascending(e.data.path,n.data.path)});return t.partition().size([2*Math.PI,g*g])(n),n.descendants().map(function(t){return t.key=t.data.key,t.path=t.data.path,t})}function c(e){var n=this._current;(function(t){return!t||isNaN(t.x0)||isNaN(t.y0)})(n)&&(n={x0:0,x1:0,y0:0,y1:0});var r={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},i=t.interpolate(n,r);return this._current=i(0),function(t){return d(u(),Object.assign({},e,i(t)))}}function s(t,e){return D.getColor(t.data,e)}function f(t,e){v.attr("class")!==b&&function(t){for(var e=t.path||t.key,r=n.filters.HierarchyFilter(e),i=function(t){for(var e=n.filters.HierarchyFilter(t),r=[],i=0;i<D.filters().length;i++){var a=D.filters()[i];(a.isFiltered(t)||e.isFiltered(a))&&r.push(a)}return r}(e),a=!1,o=i.length-1;o>=0;o--){var u=i[o];n.utils.arraysIdentical(u,e)&&(a=!0),D.filter(i[o])}n.events.trigger(function(){a||D.filter(r),D.redrawGroup()})}(t)}function d(t,e){var n=t(e);return n.indexOf("NaN")>=0&&(n="M0,0"),n}function h(e,n){D.selectAll("g.pie-slice").each(function(r){e.name===r.key&&t.select(this).classed("highlight",n)})}var g,p,v,y,x,m,A="pie-slice",b="empty-chart",_="empty",k=0,w=.5,D=n.capMixin(n.colorMixin(n.baseMixin({})));return D.colorAccessor(D.cappedKeyAccessor),D.title(function(t){return D.cappedKeyAccessor(t)+": "+i(t)}),D.label(D.cappedKeyAccessor),D.renderLabel(!0),D.transitionDuration(350),D.filterHandler(function(t,e){return 0===e.length?t.filter(null):t.filterFunction(function(t){for(var n=0;n<e.length;n++){var r=e[n];if(r.isFiltered&&r.isFiltered(t))return!0}return!1}),e}),D._doRender=function(){return D.resetSvg(),v=D.svg().append("g").attr("transform","translate("+D.cx()+","+D.cy()+")"),a(),D},D.innerRadius=function(t){return arguments.length?(k=t,D):k},D.radius=function(t){return arguments.length?(p=t,D):p},D.cx=function(t){return arguments.length?(y=t,D):y||D.width()/2},D.cy=function(t){return arguments.length?(x=t,D):x||D.height()/2},D.minAngleForLabel=function(t){return arguments.length?(w=t,D):w},D.emptyTitle=function(t){return 0===arguments.length?_:(_=t,D)},D.externalLabels=function(t){return 0===arguments.length?m:(m=t||void 0,D)},D._doRedraw=function(){return a(),D},D.onClick=f,D.legendables=function(){return D.data().map(function(t,e){var n={name:t.key,data:t.value,others:t.others,chart:D};return n.color=D.getColor(t,e),n})},D.legendHighlight=function(t){h(t,!0)},D.legendReset=function(t){h(t,!1)},D.legendToggle=function(t){D.onClick({key:t.name,others:t.others})},D.anchor(e,r)},n.barChart=function(e,r){function i(t){return n.utils.safeNumber(Math.abs(f.y()(t.y+t.y0)-f.y()(t.y0)))}function a(t){var e=f.x()(t.x);return h||(e+=c/2),f.isOrdinal()&&void 0!==d&&(e+=d/2),n.utils.safeNumber(e)}function o(t){var e=f.y()(t.y+t.y0);return t.y<0&&(e-=i(t)),n.utils.safeNumber(e-s)}function u(t){var e=f.x()(t.x);return h&&(e-=c/2),f.isOrdinal()&&void 0!==d&&(e+=d/2),n.utils.safeNumber(e)}function l(e,n){return function(){var r=t.select(this).attr("fill")===e;return n?!r:r}}var c,s=3,f=n.stackMixin(n.coordinateGridMixin({})),d=2,h=!1,g=!1;return n.override(f,"rescale",function(){return f._rescale(),c=void 0,f}),n.override(f,"render",function(){return f.round()&&h&&!g&&n.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details."),f._render()}),f.label(function(t){return n.utils.printSingleValue(t.y0+t.y)},!1),f.plotData=function(){var e=f.chartBodyG().selectAll("g.stack").data(f.data());!function(){if(void 0===c){var t=f.xUnitCount();((c=f.isOrdinal()&&void 0===d?Math.floor(f.x().bandwidth()):d?Math.floor((f.xAxisLength()-(t-1)*d)/t):Math.floor(f.xAxisLength()/(1+f.barPadding())/t))===1/0||isNaN(c)||c<1)&&(c=1)}}();var r=(e=e.enter().append("g").attr("class",function(t,e){return"stack _"+e}).merge(e)).size()-1;e.each(function(e,l){var s=t.select(this);!function(t,e,r){var a=s.selectAll("rect.bar").data(r.values,n.pluck("x")),o=a.enter().append("rect").attr("class","bar").attr("fill",n.pluck("data",f.getColor)).attr("x",u).attr("y",f.yAxisHeight()).attr("height",0),l=o.merge(a);f.renderTitle()&&o.append("title").text(n.pluck("data",f.title(r.name))),f.isOrdinal()&&l.on("click",f.onClick),n.transition(l,f.transitionDuration(),f.transitionDelay()).attr("x",u).attr("y",function(t){var e=f.y()(t.y+t.y0);return t.y<0&&(e-=i(t)),n.utils.safeNumber(e)}).attr("width",c).attr("height",function(t){return i(t)}).attr("fill",n.pluck("data",f.getColor)).select("title").text(n.pluck("data",f.title(r.name))),n.transition(a.exit(),f.transitionDuration(),f.transitionDelay()).attr("x",function(t){return f.x()(t.x)}).attr("width",.9*c).remove()}(0,0,e),f.renderLabel()&&r===l&&function(t,e,r){var i=s.selectAll("text.barLabel").data(r.values,n.pluck("x")),u=i.enter().append("text").attr("class","barLabel").attr("text-anchor","middle").attr("x",a).attr("y",o).merge(i);f.isOrdinal()&&(u.on("click",f.onClick),u.attr("cursor","pointer")),n.transition(u,f.transitionDuration(),f.transitionDelay()).attr("x",a).attr("y",o).text(function(t){return f.label()(t)}),n.transition(i.exit(),f.transitionDuration(),f.transitionDelay()).attr("height",0).remove()}(0,0,e)})},f.fadeDeselectedArea=function(t){var e=f.chartBodyG().selectAll("rect.bar");if(f.isOrdinal())f.hasFilter()?(e.classed(n.constants.SELECTED_CLASS,function(t){return f.hasFilter(t.x)}),e.classed(n.constants.DESELECTED_CLASS,function(t){return!f.hasFilter(t.x)})):(e.classed(n.constants.SELECTED_CLASS,!1),e.classed(n.constants.DESELECTED_CLASS,!1));else if(f.brushOn()||f.parentBrushOn())if(f.brushIsEmpty(t))e.classed(n.constants.DESELECTED_CLASS,!1);else{var r=t[0],i=t[1];e.classed(n.constants.DESELECTED_CLASS,function(t){return t.x<r||t.x>=i})}},f.centerBar=function(t){return arguments.length?(h=t,f):h},n.override(f,"onClick",function(t){f._onClick(t.data)}),f.barPadding=function(t){return arguments.length?(f._rangeBandPadding(t),d=void 0,f):f._rangeBandPadding()},f._useOuterPadding=function(){return void 0===d},f.outerPadding=f._outerRangeBandPadding,f.gap=function(t){return arguments.length?(d=t,f):d},f.extendBrush=function(t){return t&&f.round()&&(!h||g)&&(t[0]=f.round()(t[0]),t[1]=f.round()(t[1])),t},f.alwaysUseRounding=function(t){return arguments.length?(g=t,f):g},f.legendHighlight=function(t){f.isLegendableHidden(t)||f.g().selectAll("rect.bar").classed("highlight",l(t.color)).classed("fadeout",l(t.color,!0))},f.legendReset=function(){f.g().selectAll("rect.bar").classed("highlight",!1).classed("fadeout",!1)},n.override(f,"xAxisMax",function(){var t=this._xAxisMax();return"resolution"in f.xUnits()&&(t+=f.xUnits().resolution),t}),f.anchor(e,r)},n.lineChart=function(e,r){function i(t,e){return y.getColor.call(t,t.values,e)}function a(){var e=null;return k||((e="function"==typeof w?w:{linear:t.curveLinear,"linear-closed":t.curveLinearClosed,step:t.curveStep,"step-before":t.curveStepBefore,"step-after":t.curveStepAfter,basis:t.curveBasis,"basis-open":t.curveBasisOpen,"basis-closed":t.curveBasisClosed,bundle:t.curveBundle,cardinal:t.curveCardinal,"cardinal-open":t.curveCardinalOpen,"cardinal-closed":t.curveCardinalClosed,monotone:t.curveMonotoneX}[w])||(e=t.curveLinear),null!==D&&("function"!=typeof e.tension?n.logger.warn("tension was specified but the curve/interpolate does not support it."):e=e.tension(D)),e)}function o(t){return!t||t.indexOf("NaN")>=0?"M0,0":t}function u(e,r){if("always"===y.xyTipsOn()||!y.brushOn()&&!y.parentBrushOn()&&y.xyTipsOn()){var i=h+"-list",a=e.select("g."+i);a.empty()&&(a=e.append("g").attr("class",i)),r.each(function(e,r){var i=e.values;f&&(i=i.filter(f));var o=a.select("g."+h+"._"+r);o.empty()&&(o=a.append("g").attr("class",h+" _"+r)),function(t){(t.select("path."+p).empty()?t.append("path").attr("class",p):t.select("path."+p)).style("display","none").attr("stroke-dasharray","5,5"),(t.select("path."+v).empty()?t.append("path").attr("class",v):t.select("path."+v)).style("display","none").attr("stroke-dasharray","5,5")}(o);var u=o.selectAll("circle."+g).data(i,n.pluck("x")),s=u.enter().append("circle").attr("class",g).attr("cx",function(t){return n.utils.safeNumber(y.x()(t.x))}).attr("cy",function(t){return n.utils.safeNumber(y.y()(t.y+t.y0))}).attr("r",l()).style("fill-opacity",b).style("stroke-opacity",_).attr("fill",y.getColor).attr("stroke",y.getColor).on("mousemove",function(){var e=t.select(this);!function(t){t.style("fill-opacity",.8),t.style("stroke-opacity",.8),t.attr("r",m)}(e),function(t,e){var n=t.attr("cx"),r=t.attr("cy"),i="M"+(y._yAxisX()-y.margins().left)+" "+r+"L"+n+" "+r,a="M"+n+" "+y.yAxisHeight()+"L"+n+" "+r;e.select("path."+p).style("display","").attr("d",i),e.select("path."+v).style("display","").attr("d",a)}(e,o)}).on("mouseout",function(){!function(t){t.style("fill-opacity",b).style("stroke-opacity",_).attr("r",l())}(t.select(this)),function(t){t.select("path."+p).style("display","none"),t.select("path."+v).style("display","none")}(o)}).merge(u);s.call(c,e),n.transition(s,y.transitionDuration()).attr("cx",function(t){return n.utils.safeNumber(y.x()(t.x))}).attr("cy",function(t){return n.utils.safeNumber(y.y()(t.y+t.y0))}).attr("fill",y.getColor),u.exit().remove()})}}function l(){return A||m}function c(t,e){y.renderTitle()&&(t.select("title").remove(),t.append("title").text(n.pluck("data",y.title(e.name))))}function s(e,n,r){return function(){var i=t.select(this),a=i.attr("stroke")===e&&i.attr("stroke-dasharray")===(n instanceof Array?n.join(","):null)||i.attr("fill")===e;return r?!a:a}}var f,d,h="dc-tooltip",g="dot",p="yRef",v="xRef",y=n.stackMixin(n.coordinateGridMixin({})),x=!1,m=5,A=null,b=1e-6,_=1e-6,k=null,w=null,D=null,C=!0;return y.transitionDuration(500),y.transitionDelay(0),y._rangeBandPadding(1),y.plotData=function(){var e=y.chartBodyG(),r=e.select("g.stack-list");r.empty()&&(r=e.append("g").attr("class","stack-list"));var l=r.selectAll("g.stack").data(y.data()),c=l.enter().append("g").attr("class",function(t,e){return"stack _"+e});(function(e,r){var u=t.line().x(function(t){return y.x()(t.x)}).y(function(t){return y.y()(t.y+t.y0)}).curve(a());f&&u.defined(f);var l=e.append("path").attr("class","line").attr("stroke",i);d&&l.attr("stroke-dasharray",d),n.transition(r.select("path.line"),y.transitionDuration(),y.transitionDelay()).attr("stroke",i).attr("d",function(t){return o(u(t.values))})})(c,l=c.merge(l)),function(e,r){if(x){var u=t.area().x(function(t){return y.x()(t.x)}).y1(function(t){return y.y()(t.y+t.y0)}).y0(function(t){return y.y()(t.y0)}).curve(a());f&&u.defined(f),e.append("path").attr("class","area").attr("fill",i).attr("d",function(t){return o(u(t.values))}),n.transition(r.select("path.area"),y.transitionDuration(),y.transitionDelay()).attr("fill",i).attr("d",function(t){return o(u(t.values))})}}(c,l),u(e,l),y.renderLabel()&&l.each(function(e,r){var i=t.select(this).selectAll("text.lineLabel").data(e.values,n.pluck("x")),a=i.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle").merge(i);n.transition(a,y.transitionDuration()).attr("x",function(t){return n.utils.safeNumber(y.x()(t.x))}).attr("y",function(t){var e=y.y()(t.y+t.y0)-3;return n.utils.safeNumber(e)}).text(function(t){return y.label()(t)}),n.transition(i.exit(),y.transitionDuration()).attr("height",0).remove()})},y.curve=function(t){return arguments.length?(k=t,y):k},y.interpolate=n.logger.deprecate(function(t){return arguments.length?(w=t,y):w},"dc.lineChart.interpolate has been deprecated since version 3.0 use dc.lineChart.curve instead"),y.tension=n.logger.deprecate(function(t){return arguments.length?(D=t,y):D},"dc.lineChart.tension has been deprecated since version 3.0 use dc.lineChart.curve instead"),y.defined=function(t){return arguments.length?(f=t,y):f},y.dashStyle=function(t){return arguments.length?(d=t,y):d},y.renderArea=function(t){return arguments.length?(x=t,y):x},y.label(function(t){return n.utils.printSingleValue(t.y0+t.y)},!1),y.xyTipsOn=function(t){return arguments.length?(C=t,y):C},y.dotRadius=function(t){return arguments.length?(m=t,y):m},y.renderDataPoints=function(t){return arguments.length?(t?(b=t.fillOpacity||.8,_=t.strokeOpacity||0,A=t.radius||2):(b=1e-6,_=1e-6,A=null),y):{fillOpacity:b,strokeOpacity:_,radius:A}},y.legendHighlight=function(t){y.isLegendableHidden(t)||y.g().selectAll("path.line, path.area").classed("highlight",s(t.color,t.dashstyle)).classed("fadeout",s(t.color,t.dashstyle,!0))},y.legendReset=function(){y.g().selectAll("path.line, path.area").classed("highlight",!1).classed("fadeout",!1)},n.override(y,"legendables",function(){var t=y._legendables();return d?t.map(function(t){return t.dashstyle=d,t}):t}),y.anchor(e,r)},n.dataCount=function(e,r){var i=t.format(",d"),a=n.baseMixin({}),o={some:"",all:""};return a.html=function(t){return arguments.length?(t.all&&(o.all=t.all),t.some&&(o.some=t.some),a):o},a.formatNumber=function(t){return arguments.length?(i=t,a):i},a._doRender=function(){var t=a.dimension().size(),e=a.group().value(),n=i(t),r=i(e);return t===e&&""!==o.all?a.root().html(o.all.replace("%total-count",n).replace("%filter-count",r)):""!==o.some?a.root().html(o.some.replace("%total-count",n).replace("%filter-count",r)):(a.selectAll(".total-count").text(n),a.selectAll(".filter-count").text(r)),a},a._doRedraw=function(){return a._doRender()},a.anchor(e,r)},n.dataTable=function(e,r){var i,a="dc-table-label",o="dc-table-row",u="dc-table-group",l="dc-table-head",c=n.baseMixin({}),s=25,f=[],d=function(t){return t},h=t.ascending,g=0,p=!0;return c._doRender=function(){return c.selectAll("tbody").remove(),function(t){var e=function(){var e=!0;if(f.forEach(function(t){e&="function"==typeof t}),!e){var n=c.selectAll("thead").data([0]);n.exit().remove();var r=(n=n.enter().append("thead").merge(n)).selectAll("tr").data([0]);r.exit().remove();var o=(r=r.enter().append("tr").merge(r)).selectAll("th").data(f);o.exit().remove(),o.enter().append("th").merge(o).attr("class",l).html(function(t){return c._doColumnHeaderFormat(t)})}var v=c.root().selectAll("tbody").data(function(){var e;return e=h===t.ascending?c.dimension().bottom(s):c.dimension().top(s),t.nest().key(c.group()).sortKeys(h).entries(e.sort(function(t,e){return h(d(t),d(e))}).slice(g,i))}(),function(t){return c.keyAccessor()(t)}),y=v.enter().append("tbody");return!0===p&&y.append("tr").attr("class",u).append("td").attr("class",a).attr("colspan",f.length).html(function(t){return c.keyAccessor()(t)}),v.exit().remove(),y}().order().selectAll("tr."+o).data(function(t){return t.values}),n=e.enter().append("tr").attr("class",o);f.forEach(function(t,e){n.append("td").attr("class","dc-table-column _"+e).html(function(e){return c._doColumnValueFormat(t,e)})}),e.exit().remove()}(),c},c._doColumnValueFormat=function(t,e){return"function"==typeof t?t(e):"string"==typeof t?e[t]:t.format(e)},c._doColumnHeaderFormat=function(t){return"function"==typeof t?c._doColumnHeaderFnToString(t):"string"==typeof t?c._doColumnHeaderCapitalize(t):String(t.label)},c._doColumnHeaderCapitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},c._doColumnHeaderFnToString=function(t){var e=String(t),n=e.indexOf("return ");if(n>=0){var r=e.lastIndexOf(";");r>=0&&(e=e.substring(n+7,r)).indexOf("numberFormat")>=0&&(e=e.replace("numberFormat",""))}return e},c._doRedraw=function(){return c._doRender()},c.size=function(t){return arguments.length?(s=t,c):s},c.beginSlice=function(t){return arguments.length?(g=t,c):g},c.endSlice=function(t){return arguments.length?(i=t,c):i},c.columns=function(t){return arguments.length?(f=t,c):f},c.sortBy=function(t){return arguments.length?(d=t,c):d},c.order=function(t){return arguments.length?(h=t,c):h},c.showGroups=function(t){return arguments.length?(p=t,c):p},c.anchor(e,r)},n.dataGrid=function(e,r){var i,a="dc-grid-item",o="dc-grid-top",u=n.baseMixin({}),l=999,c=function(t){return"you need to provide an html() handling param:  "+JSON.stringify(t)},s=function(t){return t},f=t.ascending,d=0,h=function(t){return"<div class='dc-grid-group'><h1 class='dc-grid-label'>"+u.keyAccessor()(t)+"</h1></div>"};return u._doRender=function(){return u.selectAll("div."+o).remove(),function(t){var e=function(){var e=u.root().selectAll("div."+o).data(function(){var e=u.dimension().top(l);return t.nest().key(u.group()).sortKeys(f).entries(e.sort(function(t,e){return f(s(t),s(e))}).slice(d,i))}(),function(t){return u.keyAccessor()(t)}),n=e.enter().append("div").attr("class",o);return h&&n.html(function(t){return h(t)}),e.exit().remove(),n}().order().selectAll("div."+a).data(function(t){return t.values});e.exit().remove(),e=e.enter().append("div").attr("class",a).html(function(t){return c(t)}).merge(e)}(),u},u._doRedraw=function(){return u._doRender()},u.beginSlice=function(t){return arguments.length?(d=t,u):d},u.endSlice=function(t){return arguments.length?(i=t,u):i},u.size=function(t){return arguments.length?(l=t,u):l},u.html=function(t){return arguments.length?(c=t,u):c},u.htmlGroup=function(t){return arguments.length?(h=t,u):h},u.sortBy=function(t){return arguments.length?(s=t,u):s},u.order=function(t){return arguments.length?(f=t,u):f},u.anchor(e,r)},n.bubbleChart=function(t,e){var r=n.bubbleMixin(n.coordinateGridMixin({}));r.transitionDuration(750),r.transitionDelay(0);var i=function(t){return"translate("+function(t){var e=r.x()(r.keyAccessor()(t));return!isNaN(e)&&isFinite(e)||(e=0),e}(t)+","+function(t){var e=r.y()(r.valueAccessor()(t));return!isNaN(e)&&isFinite(e)||(e=0),e}(t)+")"};return r.plotData=function(){r.calculateRadiusDomain(),r.r().range([r.MIN_RADIUS,r.xAxisLength()*r.maxBubbleRelativeSize()]);var t=r.data(),e=r.chartBodyG().selectAll("g."+r.BUBBLE_NODE_CLASS).data(t,function(t){return t.key});r.sortBubbleSize()&&e.order(),e.exit().remove(),function(t){n.transition(t,r.transitionDuration(),r.transitionDelay()).attr("transform",i).select("circle."+r.BUBBLE_CLASS).attr("fill",r.getColor).attr("r",function(t){return r.bubbleR(t)}).attr("opacity",function(t){return r.bubbleR(t)>0?1:0}),r.doUpdateLabels(t),r.doUpdateTitles(t)}(e=function(t){var e=t.enter().append("g");return e.attr("class",r.BUBBLE_NODE_CLASS).attr("transform",i).append("circle").attr("class",function(t,e){return r.BUBBLE_CLASS+" _"+e}).on("click",r.onClick).attr("fill",r.getColor).attr("r",0),t=e.merge(t),n.transition(t,r.transitionDuration(),r.transitionDelay()).select("circle."+r.BUBBLE_CLASS).attr("r",function(t){return r.bubbleR(t)}).attr("opacity",function(t){return r.bubbleR(t)>0?1:0}),r._doRenderLabel(e),r._doRenderTitles(e),t}(e)),r.fadeDeselectedArea(r.filter())},r.renderBrush=function(){},r.redrawBrush=function(t,e){r.fadeDeselectedArea(t)},r.anchor(t,e)},n.compositeChart=function(e,r){function i(e,r){var i,a,s,f,h;return e&&(i=t.min(l(o())),a=n.utils.add(t.max(c(o())),d.yAxisPadding())),r&&(s=t.min(l(u())),f=n.utils.add(t.max(c(u())),d.yAxisPadding())),d.alignYAxes()&&e&&r&&(h=function(t,e,n,r){var i=(r-n)/(e-t);return{lyAxisMin:Math.min(t,n/i),lyAxisMax:Math.max(e,r/i),ryAxisMin:Math.min(n,t*i),ryAxisMax:Math.max(r,e*i)}}(i,a,s,f)),h||{lyAxisMin:i,lyAxisMax:a,ryAxisMin:s,ryAxisMax:f}}function a(t,e){t._generateG(d.g()),t.g().attr("class",f+" _"+e)}function o(){return h.filter(function(t){return!t.useRightYAxis()})}function u(){return h.filter(function(t){return t.useRightYAxis()})}function l(t){return t.map(function(t){return t.yAxisMin()})}function c(t){return t.map(function(t){return t.yAxisMax()})}var s,f="sub",d=n.coordinateGridMixin({}),h=[],g={},p=!1,v=!0,y=!1,x=t.axisRight(),m=0,A=12,b=!1;return d._mandatoryAttributes([]),d.transitionDuration(500),d.transitionDelay(0),n.override(d,"_generateG",function(){for(var t=this.__generateG(),e=0;e<h.length;++e){var n=h[e];a(n,e),n.dimension()||n.dimension(d.dimension()),n.group()||n.group(d.group()),n.chartGroup(d.chartGroup()),n.svg(d.svg()),n.xUnits(d.xUnits()),n.transitionDuration(d.transitionDuration(),d.transitionDelay()),n.parentBrushOn(d.brushOn()),n.brushOn(!1),n.renderTitle(d.renderTitle()),n.elasticX(d.elasticX())}return t}),d.on("filtered.dcjs-composite-chart",function(t){for(var e=0;e<h.length;++e)h[e].replaceFilter(d.filter())}),d._prepareYAxis=function(){var e=0!==o().length,n=0!==u().length,r=i(e,n);e&&function(e){var n=void 0===d.y()||d.elasticY(),r=n||d.resizing();void 0===d.y()&&d.y(t.scaleLinear()),n&&d.y().domain([e.lyAxisMin,e.lyAxisMax]),r&&d.y().rangeRound([d.yAxisHeight(),0]),d.y().range([d.yAxisHeight(),0]),d.yAxis(d.yAxis().scale(d.y()))}(r),n&&function(e){var n=void 0===d.rightY()||d.elasticY(),r=n||d.resizing();void 0===d.rightY()&&d.rightY(t.scaleLinear()),n&&d.rightY().domain([e.ryAxisMin,e.ryAxisMax]),r&&d.rightY().rangeRound([d.yAxisHeight(),0]),d.rightY().range([d.yAxisHeight(),0]),d.rightYAxis(d.rightYAxis().scale(d.rightY()))}(r),o().length>0&&!b?d._renderHorizontalGridLinesForAxis(d.g(),d.y(),d.yAxis()):u().length>0&&d._renderHorizontalGridLinesForAxis(d.g(),s,x)},d.renderYAxis=function(){0!==o().length&&(d.renderYAxisAt("y",d.yAxis(),d.margins().left),d.renderYAxisLabel("y",d.yAxisLabel(),-90)),0!==u().length&&(d.renderYAxisAt("yr",d.rightYAxis(),d.width()-d.margins().right),d.renderYAxisLabel("yr",d.rightYAxisLabel(),90,d.width()-A))},d.plotData=function(){for(var t=0;t<h.length;++t){var e=h[t];e.g()||a(e,t),p&&e.colors(d.colors()),e.x(d.x()),e.xAxis(d.xAxis()),e.useRightYAxis()?(e.y(d.rightY()),e.yAxis(d.rightYAxis())):(e.y(d.y()),e.yAxis(d.yAxis())),e.plotData(),e._activateRenderlets()}},d.useRightAxisGridLines=function(t){return arguments?(b=t,d):b},d.childOptions=function(t){return arguments.length?(g=t,h.forEach(function(t){t.options(g)}),d):g},d.fadeDeselectedArea=function(t){if(d.brushOn())for(var e=0;e<h.length;++e)h[e].fadeDeselectedArea(t)},d.rightYAxisLabel=function(t,e){return arguments.length?(m=t,d.margins().right-=A,A=void 0===e?12:e,d.margins().right+=A,d):m},d.compose=function(t){return(h=t).forEach(function(t){t.height(d.height()),t.width(d.width()),t.margins(d.margins()),v&&t.title(d.title()),t.options(g)}),d},d.children=function(){return h},d.shareColors=function(t){return arguments.length?(p=t,d):p},d.shareTitle=function(t){return arguments.length?(v=t,d):v},d.rightY=function(t){return arguments.length?(s=t,d.rescale(),d):s},d.alignYAxes=function(t){return arguments.length?(y=t,d.rescale(),d):y},delete d.yAxisMin,delete d.yAxisMax,n.override(d,"xAxisMin",function(){return n.utils.subtract(t.min(h.map(function(t){return t.xAxisMin()})),d.xAxisPadding(),d.xAxisPaddingUnit())}),n.override(d,"xAxisMax",function(){return n.utils.add(t.max(h.map(function(t){return t.xAxisMax()})),d.xAxisPadding(),d.xAxisPaddingUnit())}),d.legendables=function(){return h.reduce(function(t,e){return p&&e.colors(d.colors()),t.push.apply(t,e.legendables()),t},[])},d.legendHighlight=function(t){for(var e=0;e<h.length;++e)h[e].legendHighlight(t)},d.legendReset=function(t){for(var e=0;e<h.length;++e)h[e].legendReset(t)},d.legendToggle=function(){console.log("composite should not be getting legendToggle itself")},d.rightYAxis=function(t){return arguments.length?(x=t,d):x},d.anchor(e,r)},n.seriesChart=function(e,r){function i(t){l[t].g()&&l[t].g().remove(),delete l[t]}function a(){Object.keys(l).map(i),l={}}var o,u=n.compositeChart(e,r),l={},c=n.lineChart,s=t.ascending,f=function(e,n){return t.ascending(u.keyAccessor()(e),u.keyAccessor()(n))};return u._mandatoryAttributes().push("seriesAccessor","chart"),u.shareColors(!0),u._preprocessData=function(){var e,a=[],d=t.nest().key(o);s&&d.sortKeys(s),f&&d.sortValues(f);var h=d.entries(u.data()).map(function(t,i){var o=l[t.key]||c.call(u,u,r,t.key,i);return l[t.key]||(e=!0),l[t.key]=o,a.push(t.key),o.dimension(u.dimension()).group({all:"function"==typeof t.values?t.values:n.utils.constant(t.values)},t.key).keyAccessor(u.keyAccessor()).valueAccessor(u.valueAccessor()).brushOn(!1)});Object.keys(l).filter(function(t){return-1===a.indexOf(t)}).forEach(function(t){i(t),e=!0}),u._compose(h),e&&u.legend()&&u.legend().render()},u.chart=function(t){return arguments.length?(c=t,a(),u):c},u.seriesAccessor=function(t){return arguments.length?(o=t,a(),u):o},u.seriesSort=function(t){return arguments.length?(s=t,a(),u):s},u.valueSort=function(t){return arguments.length?(f=t,a(),u):f},u._compose=u.compose,delete u.compose,u},n.geoChoroplethChart=function(e,r){function i(e){var r=function(){for(var t={},e=c.data(),n=0;n<e.length;++n)t[c.keyAccessor()(e[n])]=c.valueAccessor()(e[n]);return t}();if(l(e).keyAccessor){var i=function(t){return c.svg().selectAll(function(t){return"g.layer"+t+" g."+l(t).name}(t)).classed("selected",function(e){return a(t,e)}).classed("deselected",function(e){return o(t,e)}).attr("class",function(e){var r=l(t).name+" "+n.utils.nameToId(l(t).keyAccessor(e));return a(t,e)&&(r+=" selected"),o(t,e)&&(r+=" deselected"),r})}(e);!function(e,r,i){var a=e.select("path").attr("fill",function(){return t.select(this).attr("fill")||"none"}).on("click",function(t){return c.onClick(t,r)});n.transition(a,c.transitionDuration(),c.transitionDelay()).attr("fill",function(t,e){return c.getColor(i[l(r).keyAccessor(t)],e)})}(i,e,r),function(t,e,n){c.renderTitle()&&t.selectAll("title").text(function(t){var r=u(e,t),i=n[r];return c.title()({key:r,value:i})})}(i,e,r)}}function a(t,e){return c.hasFilter()&&c.hasFilter(u(t,e))}function o(t,e){return c.hasFilter()&&!c.hasFilter(u(t,e))}function u(t,e){return l(t).keyAccessor(e)}function l(t){return h[t]}var c=n.colorMixin(n.baseMixin({}));c.colorAccessor(function(t){return t||0});var s,f,d=t.geoPath(),h=[];c._doRender=function(){c.resetSvg();for(var t=0;t<h.length;++t){var e=c.svg().append("g").attr("class","layer"+t).selectAll("g."+l(t).name).data(l(t).data);(e=e.enter().append("g").attr("class",l(t).name).merge(e)).append("path").attr("fill","white").attr("d",g()),e.append("title"),i(t)}s=!1},c.onClick=function(t,e){var r=l(e).keyAccessor(t);n.events.trigger(function(){c.filter(r),c.redrawGroup()})},c._doRedraw=function(){for(var t=0;t<h.length;++t)i(t),s&&c.svg().selectAll("g."+l(t).name+" path").attr("d",g());s=!1},c.overlayGeoJson=function(t,e,n){for(var r=0;r<h.length;++r)if(h[r].name===e)return h[r].data=t,h[r].keyAccessor=n,c;return h.push({name:e,data:t,keyAccessor:n}),c},c.projection=function(t){return arguments.length?(f=t,s=!0,c):f};var g=function(){return void 0===f?(n.logger.warn("choropleth projection default of geoAlbers is deprecated, in next version projection will need to be set explicitly"),d.projection(t.geoAlbersUsa())):d.projection(f)};return c.geoJsons=function(){return h},c.geoPath=function(){return d},c.removeGeoJson=function(t){for(var e=[],n=0;n<h.length;++n){var r=h[n];r.name!==t&&e.push(r)}return h=e,c},c.anchor(e,r)},n.bubbleOverlay=function(e,r){function i(){var t={};return s.data().forEach(function(e){t[s.keyAccessor()(e)]=e}),t}function a(t,e){var r=l+" "+n.utils.nameToId(t.name),i=o.select("g."+n.utils.nameToId(t.name));return i.empty()&&(i=o.append("g").attr("class",r).attr("transform","translate("+t.x+","+t.y+")")),i.datum(e[t.name]),i}var o,u="bubble-overlay",l="node",c="bubble",s=n.bubbleMixin(n.baseMixin({})),f=[];return s.transitionDuration(750),s.transitionDelay(0),s.radiusValueAccessor(function(t){return t.value}),s.point=function(t,e,n){return f.push({name:t,x:e,y:n}),s},s._doRender=function(){return(o=s.select("g."+u)).empty()&&(o=s.svg().append("g").attr("class",u)),o=o,s.r().range([s.MIN_RADIUS,s.width()*s.maxBubbleRelativeSize()]),function(){var t=i();s.calculateRadiusDomain(),f.forEach(function(e){var r=a(e,t),i=r.select("circle."+c);i.empty()&&(i=r.append("circle").attr("class",c).attr("r",0).attr("fill",s.getColor).on("click",s.onClick)),n.transition(i,s.transitionDuration(),s.transitionDelay()).attr("r",function(t){return s.bubbleR(t)}),s._doRenderLabel(r),s._doRenderTitles(r)})}(),s.fadeDeselectedArea(s.filter()),s},s._doRedraw=function(){return function(){var t=i();s.calculateRadiusDomain(),f.forEach(function(e){var r=a(e,t),i=r.select("circle."+c);n.transition(i,s.transitionDuration(),s.transitionDelay()).attr("r",function(t){return s.bubbleR(t)}).attr("fill",s.getColor),s.doUpdateLabels(r),s.doUpdateTitles(r)})}(),s.fadeDeselectedArea(s.filter()),s},s.debug=function(e){if(e){var r=s.select("g."+n.constants.DEBUG_GROUP_CLASS);r.empty()&&(r=s.svg().append("g").attr("class",n.constants.DEBUG_GROUP_CLASS));var i=r.append("text").attr("x",10).attr("y",20);r.append("rect").attr("width",s.width()).attr("height",s.height()).on("mousemove",function(){var e=t.mouse(r.node()),n=e[0]+", "+e[1];i.text(n)})}else s.selectAll(".debug").remove();return s},s.anchor(e,r),s},n.rowChart=function(e,r){function i(){var e=s.select("g.axis");!function(){if(!f||d){var e=t.extent(h,w.cappedValueAccessor);e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0),f=t.scaleLinear().domain(e).range([0,w.effectiveWidth()])}D.scale(f)}(),e.empty()&&(e=s.append("g").attr("class","axis")),e.attr("transform","translate(0, "+w.effectiveHeight()+")"),n.transition(e,w.transitionDuration(),w.transitionDelay()).call(D)}function a(){h=w.data(),i(),s.selectAll("g.tick").select("line.grid-line").remove(),s.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return-w.effectiveHeight()});var t=s.selectAll("g."+b).data(h);!function(t){t.exit().remove()}(t),function(t){var e,r=h.length;e=A||(w.effectiveHeight()-(r+1)*m)/r,v||(p=e/2);var i=t.attr("transform",function(t,n){return"translate(0,"+((n+1)*m+n*e)+")"}).select("rect").attr("height",e).attr("fill",w.getColor).on("click",u).classed("deselected",function(t){return!!w.hasFilter()&&!c(t)}).classed("selected",function(t){return!!w.hasFilter()&&c(t)});n.transition(i,w.transitionDuration(),w.transitionDelay()).attr("width",function(t){return Math.abs(o()-f(w.cappedValueAccessor(t)))}).attr("transform",l),function(t){w.renderTitle()&&(t.select("title").remove(),t.append("title").text(w.title()))}(t),function(t){if(w.renderLabel()){var e=t.select("text").attr("x",g).attr("y",p).attr("dy",y).on("click",u).attr("class",function(t,e){return b+" _"+e}).text(function(t){return w.label()(t)});n.transition(e,w.transitionDuration(),w.transitionDelay()).attr("transform",l)}if(w.renderTitleLabel()){var r=t.select("."+_).attr("x",w.effectiveWidth()-x).attr("y",p).attr("dy",y).attr("text-anchor","end").on("click",u).attr("class",function(t,e){return _+" _"+e}).text(function(t){return w.title()(t)});n.transition(r,w.transitionDuration(),w.transitionDelay()).attr("transform",l)}}(t)}(t=function(t){var e=t.enter().append("g").attr("class",function(t,e){return b+" _"+e});return e.append("rect").attr("width",0),function(t){w.renderLabel()&&t.append("text").on("click",u),w.renderTitleLabel()&&t.append("text").attr("class",_).on("click",u)}(e),e}(t).merge(t))}function o(){var t=f(0);return t===-1/0||t!=t?f(1):t}function u(t){w.onClick(t)}function l(t){var e=f(w.cappedValueAccessor(t)),n=o();return"translate("+(e>n?n:e)+",0)"}function c(t){return w.hasFilter(w.cappedKeyAccessor(t))}var s,f,d,h,g=10,p=15,v=!1,y="0.35em",x=2,m=5,A=!1,b="row",_="titlerow",k=!1,w=n.capMixin(n.marginMixin(n.colorMixin(n.baseMixin({})))),D=t.axisBottom();return w.rowsCap=w.cap,w._doRender=function(){return w.resetSvg(),s=w.svg().append("g").attr("transform","translate("+w.margins().left+","+w.margins().top+")"),a(),w},w.title(function(t){return w.cappedKeyAccessor(t)+": "+w.cappedValueAccessor(t)}),w.label(w.cappedKeyAccessor),w.x=function(t){return arguments.length?(f=t,w):f},w.renderTitleLabel=function(t){return arguments.length?(k=t,w):k},w._doRedraw=function(){return a(),w},w.xAxis=function(t){return arguments.length?(D=t,this):D},w.fixedBarHeight=function(t){return arguments.length?(A=t,w):A},w.gap=function(t){return arguments.length?(m=t,w):m},w.elasticX=function(t){return arguments.length?(d=t,w):d},w.labelOffsetX=function(t){return arguments.length?(g=t,w):g},w.labelOffsetY=function(t){return arguments.length?(p=t,v=!0,w):p},w.titleLabelOffsetX=function(t){return arguments.length?(x=t,w):x},w.anchor(e,r)},n.legend=function(){function t(){return c+l}var e,r,i,a={},o=0,u=0,l=12,c=5,s=!1,f=560,d=70,h=!1,g=n.pluck("name");return a.parent=function(t){return arguments.length?(e=t,a):e},a.render=function(){e.svg().select("g.dc-legend").remove(),i=e.svg().append("g").attr("class","dc-legend").attr("transform","translate("+o+","+u+")");var a=e.legendables();void 0!==r&&(a=a.slice(0,r));var p=i.selectAll("g.dc-legend-item").data(a).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(t){e.legendHighlight(t)}).on("mouseout",function(t){e.legendReset(t)}).on("click",function(t){t.chart.legendToggle(t)});i.selectAll("g.dc-legend-item").classed("fadeout",function(t){return t.chart.isLegendableHidden(t)}),a.some(n.pluck("dashstyle"))?p.append("line").attr("x1",0).attr("y1",l/2).attr("x2",l).attr("y2",l/2).attr("stroke-width",2).attr("stroke-dasharray",n.pluck("dashstyle")).attr("stroke",n.pluck("color")):p.append("rect").attr("width",l).attr("height",l).attr("fill",function(t){return t?t.color:"blue"}),p.append("text").text(g).attr("x",l+2).attr("y",function(){return l/2+(this.clientHeight?this.clientHeight:13)/2-2});var v=0,y=0;p.attr("transform",function(e,n){if(s){var r=!0===h?this.getBBox().width+c:d;v+r>f&&v>0&&(++y,v=0);var i="translate("+v+","+y*t()+")";return v+=r,i}return"translate(0,"+n*t()+")"})},a.x=function(t){return arguments.length?(o=t,a):o},a.y=function(t){return arguments.length?(u=t,a):u},a.gap=function(t){return arguments.length?(c=t,a):c},a.itemHeight=function(t){return arguments.length?(l=t,a):l},a.horizontal=function(t){return arguments.length?(s=t,a):s},a.legendWidth=function(t){return arguments.length?(f=t,a):f},a.itemWidth=function(t){return arguments.length?(d=t,a):d},a.autoItemWidth=function(t){return arguments.length?(h=t,a):h},a.legendText=function(t){return arguments.length?(g=t,a):g},a.maxItems=function(t){return arguments.length?(r=n.utils.isNumber(t)?t:void 0,a):r},a},n.htmlLegend=function(){var e,r,i,a,o={},u=n.pluck("name"),l=!1,c=!1;return o.parent=function(t){return arguments.length?(e=t,o):e},o.render=function(){var t=l?"dc-legend-item-horizontal":"dc-legend-item-vertical";r.select("div.dc-html-legend").remove();var o=r.append("div").attr("class","dc-html-legend");o.attr("style","max-width:"+r.nodes()[0].style.width);var s=e.legendables(),f=e.filters();void 0!==i&&(s=s.slice(0,i));var d=a||t,h=o.selectAll("div."+d).data(s).enter().append("div").classed(d,!0).on("mouseover",e.legendHighlight).on("mouseout",e.legendReset).on("click",e.legendToggle);c&&h.classed(n.constants.SELECTED_CLASS,function(t){return-1!==f.indexOf(t.name)}),h.append("span").attr("class","dc-legend-item-color").style("background-color",n.pluck("color")),h.append("span").attr("class","dc-legend-item-label").attr("title",u).text(u)},o.container=function(e){return arguments.length?(r=t.select(e),o):r},o.legendItemClass=function(t){return arguments.length?(a=t,o):a},o.highlightSelected=function(t){return arguments.length?(c=t,o):c},o.horizontal=function(t){return arguments.length?(l=t,o):l},o.legendText=function(t){return arguments.length?(u=t,o):u},o.maxItems=function(t){return arguments.length?(i=n.utils.isNumber(t)?t:void 0,o):i},o},n.scatterPlot=function(e,r){function i(t,e){return c(t)?b[e]?Math.pow(h,2):Math.pow(g,2):Math.pow(y,2)}function a(t,e){u.renderTitle()&&(t.selectAll("title").remove(),t.append("title").text(function(t){return u.title()(t)}))}function o(e,r){var i=u.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return e(t.select(this))}),a=l.size();l.size(Math.pow(r,2)),n.transition(i,u.transitionDuration(),u.transitionDelay()).attr("d",l),l.size(a)}var u=n.coordinateGridMixin({}),l=t.symbol(),c=function(t){return t.value},s=u.keyAccessor();u.keyAccessor(function(t){return s(t)[0]}),u.valueAccessor(function(t){return s(t)[1]}),u.colorAccessor(function(){return u._groupName}),u.title(function(t){return u.keyAccessor()(t)+","+u.valueAccessor()(t)+": "+u.existenceAccessor()(t)});var f=function(t){return"translate("+u.x()(u.keyAccessor()(t))+","+u.y()(u.valueAccessor()(t))+")"},d=7,h=5,g=3,p=null,v=1,y=0,x=0,m=1,A=null,b=[];return u.brush(t.brush()),l.size(i),n.override(u,"_filter",function(t){return arguments.length?u.__filter(n.filters.RangedTwoDimensionalFilter(t)):u.__filter()}),u.plotData=function(){var t=u.chartBodyG().selectAll("path.symbol").data(u.data());n.transition(t.exit(),u.transitionDuration(),u.transitionDelay()).attr("opacity",0).remove(),(t=t.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",u.getColor).attr("transform",f).merge(t)).call(a,u.data()),t.each(function(t,e){b[e]=!u.filter()||u.filter().isFiltered([u.keyAccessor()(t),u.valueAccessor()(t)])}),n.transition(t,u.transitionDuration(),u.transitionDelay()).attr("opacity",function(t,e){return c(t)?b[e]?m:u.excludedOpacity():x}).attr("fill",function(t,e){return A&&!c(t)?A:u.excludedColor()&&!b[e]?u.excludedColor():u.getColor(t)}).attr("transform",f).attr("d",l)},u.existenceAccessor=function(t){return arguments.length?(c=t,this):c},u.symbol=function(t){return arguments.length?(l.type(t),u):l.type()},u.customSymbol=function(t){return arguments.length?((l=t).size(i),u):l},u.symbolSize=function(t){return arguments.length?(h=t,u):h},u.highlightedSize=function(t){return arguments.length?(d=t,u):d},u.excludedSize=function(t){return arguments.length?(g=t,u):g},u.excludedColor=function(t){return arguments.length?(p=t,u):p},u.excludedOpacity=function(t){return arguments.length?(v=t,u):v},u.hiddenSize=u.emptySize=function(t){return arguments.length?(y=t,u):y},u.emptyColor=function(t){return arguments.length?(A=t,u):A},u.emptyOpacity=function(t){return arguments.length?(x=t,u):x},u.nonemptyOpacity=function(t){return arguments.length?(m=t,u):x},u.legendables=function(){return[{chart:u,name:u._groupName,color:u.getColor()}]},u.legendHighlight=function(e){o(function(t){return t.attr("fill")===e.color},d),u.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t.select(this).attr("fill")!==e.color}).classed("fadeout",!0)},u.legendReset=function(e){o(function(t){return t.attr("fill")===e.color},h),u.chartBodyG().selectAll(".chart-body path.symbol").filter(function(){return t.select(this).attr("fill")!==e.color}).classed("fadeout",!1)},u.createBrushHandlePaths=function(){},u.extendBrush=function(t){return u.round()&&(t[0]=t[0].map(u.round()),t[1]=t[1].map(u.round())),t},u.brushIsEmpty=function(t){return!t||t[0][0]>=t[1][0]||t[0][1]>=t[1][1]},u._brushing=function(){if(t.event.sourceEvent&&(!t.event.sourceEvent.type||-1===["start","brush","end"].indexOf(t.event.sourceEvent.type))){var e=t.event.selection,r=u.brushIsEmpty(e);e&&(e=e.map(function(t){return t.map(function(t,e){return(0===e?u.x():u.y()).invert(t)})}),e=u.extendBrush(e),r=r&&u.brushIsEmpty(e)),u.redrawBrush(e,!1);var i=r?null:n.filters.RangedTwoDimensionalFilter(e);n.events.trigger(function(){u.replaceFilter(i),u.redrawGroup()},n.constants.EVENT_DELAY)}},u.redrawBrush=function(t,e){var r=u.brush(),i=u.gBrush();u.brushOn()&&i&&(u.resizing()&&u.setBrushExtents(e),t?(t=t.map(function(t){return t.map(function(t,e){return(0===e?u.x():u.y())(t)})}),n.optionalTransition(e,u.transitionDuration(),u.transitionDelay())(i).call(r.move,t)):i.call(r.move,t)),u.fadeDeselectedArea(t)},u.setBrushY=function(t){t.call(u.brush().y(u.y()))},u.anchor(e,r)},n.numberDisplay=function(e,r){var i,a=t.format(".2s"),o=n.baseMixin({}),u={one:"",some:"",none:""};return o._mandatoryAttributes(["group"]),o.ordering(function(t){return t.value}),o.html=function(t){return arguments.length?(t.none?u.none=t.none:t.one?u.none=t.one:t.some&&(u.none=t.some),t.one?u.one=t.one:t.some&&(u.one=t.some),t.some?u.some=t.some:t.one&&(u.some=t.one),o):u},o.value=function(){return o.data()},o.data(function(t){var e=t.value?t.value():function(t){if(!t.length)return null;var e=o._computeOrderedGroups(t);return e[e.length-1]}(t.all());return o.valueAccessor()(e)}),o.transitionDuration(250),o.transitionDelay(0),o._doRender=function(){var e=o.value(),n=o.selectAll(".number-display");n.empty()&&(n=n.data([0]).enter().append("span").attr("class","number-display").merge(n)),n.transition().duration(o.transitionDuration()).delay(o.transitionDelay()).ease(t.easeQuad).tween("text",function(){var n=isFinite(i)?i:0,r=t.interpolateNumber(n||0,e);i=e;var a=this;return function(t){var n=null,i=o.formatNumber()(r(t));0===e&&""!==u.none?n=u.none:1===e&&""!==u.one?n=u.one:""!==u.some&&(n=u.some),a.innerHTML=n?n.replace("%number",i):i}})},o._doRedraw=function(){return o._doRender()},o.formatNumber=function(t){return arguments.length?(a=t,o):a},o.anchor(e,r)},n.heatMap=function(e,r){function i(t,e){var r=g.selectAll(".box-group").filter(function(n){return n.key[t]===e}),i=r.filter(function(t){return!g.hasFilter(t.key)});n.events.trigger(function(){var t=(i.empty()?r:i).data().map(function(t){return n.filters.TwoDimensionalFilter(t.key)});g._filter([t]),g.redrawGroup()})}var a,o,u,l=t.ascending,c=t.ascending,s=t.scaleBand(),f=t.scaleBand(),d=6.75,h=6.75,g=n.colorMixin(n.marginMixin(n.baseMixin({})));g._mandatoryAttributes(["group"]),g.title(g.colorAccessor());var p=function(t){return t},v=function(t){return t};g.colsLabel=function(t){return arguments.length?(p=t,g):p},g.rowsLabel=function(t){return arguments.length?(v=t,g):v};var y=function(t){i(0,t)},x=function(t){i(1,t)},m=function(t){var e=t.key;n.events.trigger(function(){g.filter(e),g.redrawGroup()})};return n.override(g,"filter",function(t){return arguments.length?g._filter(n.filters.TwoDimensionalFilter(t)):g._filter()}),g.rows=function(t){return arguments.length?(u=t,g):u},g.rowOrdering=function(t){return arguments.length?(c=t,g):c},g.cols=function(t){return arguments.length?(o=t,g):o},g.colOrdering=function(t){return arguments.length?(l=t,g):l},g._doRender=function(){return g.resetSvg(),a=g.svg().append("g").attr("class","heatmap").attr("transform","translate("+g.margins().left+","+g.margins().top+")"),g._doRedraw()},g._doRedraw=function(){var t=g.data(),e=g.rows()||t.map(g.valueAccessor()),r=g.cols()||t.map(g.keyAccessor());c&&(e=e.sort(c)),l&&(r=r.sort(l)),e=f.domain(e),r=s.domain(r);var i=e.domain().length,o=r.domain().length,u=Math.floor(g.effectiveWidth()/o),p=Math.floor(g.effectiveHeight()/i);r.rangeRound([0,g.effectiveWidth()]),e.rangeRound([g.effectiveHeight(),0]);var v=a.selectAll("g.box-group").data(g.data(),function(t,e){return g.keyAccessor()(t,e)+"\0"+g.valueAccessor()(t,e)});v.exit().remove();var y=v.enter().append("g").attr("class","box-group");y.append("rect").attr("class","heat-box").attr("fill","white").attr("x",function(t,e){return r(g.keyAccessor()(t,e))}).attr("y",function(t,n){return e(g.valueAccessor()(t,n))}).on("click",g.boxOnClick()),v=y.merge(v),g.renderTitle()&&(y.append("title"),v.select("title").text(g.title())),n.transition(v.select("rect"),g.transitionDuration(),g.transitionDelay()).attr("x",function(t,e){return r(g.keyAccessor()(t,e))}).attr("y",function(t,n){return e(g.valueAccessor()(t,n))}).attr("rx",d).attr("ry",h).attr("fill",g.getColor).attr("width",u).attr("height",p);var x=a.select("g.cols");x.empty()&&(x=a.append("g").attr("class","cols axis"));var m=x.selectAll("text").data(r.domain());m.exit().remove(),m=m.enter().append("text").attr("x",function(t){return r(t)+u/2}).style("text-anchor","middle").attr("y",g.effectiveHeight()).attr("dy",12).on("click",g.xAxisOnClick()).text(g.colsLabel()).merge(m),n.transition(m,g.transitionDuration(),g.transitionDelay()).text(g.colsLabel()).attr("x",function(t){return r(t)+u/2}).attr("y",g.effectiveHeight());var A=a.select("g.rows");A.empty()&&(A=a.append("g").attr("class","rows axis"));var b=A.selectAll("text").data(e.domain());return b.exit().remove(),b=b.enter().append("text").style("text-anchor","end").attr("x",0).attr("dx",-2).attr("y",function(t){return e(t)+p/2}).attr("dy",6).on("click",g.yAxisOnClick()).text(g.rowsLabel()).merge(b),n.transition(b,g.transitionDuration(),g.transitionDelay()).text(g.rowsLabel()).attr("y",function(t){return e(t)+p/2}),g.hasFilter()?g.selectAll("g.box-group").each(function(t){g.isSelectedNode(t)?g.highlightSelected(this):g.fadeDeselected(this)}):g.selectAll("g.box-group").each(function(){g.resetHighlight(this)}),g},g.boxOnClick=function(t){return arguments.length?(m=t,g):m},g.xAxisOnClick=function(t){return arguments.length?(y=t,g):y},g.yAxisOnClick=function(t){return arguments.length?(x=t,g):x},g.xBorderRadius=function(t){return arguments.length?(d=t,g):d},g.yBorderRadius=function(t){return arguments.length?(h=t,g):h},g.isSelectedNode=function(t){return g.hasFilter(t.key)},g.anchor(e,r)},function(){function e(t){return[0,t.length-1]}function r(e){return[t.quantile(e,.25),t.quantile(e,.5),t.quantile(e,.75)]}t.box=function(){function i(e){e.each(function(e,n){e=e.map(s).sort(t.ascending);var r,i,b=t.select(this),_=e.length;if(0!==_){var k=e.quartiles=d(e),w=f&&f.call(this,e,n),D=w&&w.map(function(t){return e[t]}),C=w?t.range(0,w[0]).concat(t.range(w[1]+1,_)):t.range(_);m?(r=e[0],i=e[_-1]):(r=e[w[0]],i=e[w[1]]);var E=t.range(w[0],w[1]+1),L=t.scaleLinear().domain(c&&c.call(this,e,n)||[r,i]).range([o,0]),R=this.__chart__||t.scaleLinear().domain([0,1/0]).range(L.range());this.__chart__=L;var S=b.selectAll("line.center").data(D?[D]:[]);S.enter().insert("line","rect").attr("class","center").attr("x1",a/2).attr("y1",function(t){return R(t[0])}).attr("x2",a/2).attr("y2",function(t){return R(t[1])}).style("opacity",1e-6).transition().duration(u).delay(l).style("opacity",1).attr("y1",function(t){return L(t[0])}).attr("y2",function(t){return L(t[1])}),S.transition().duration(u).delay(l).style("opacity",1).attr("x1",a/2).attr("x2",a/2).attr("y1",function(t){return L(t[0])}).attr("y2",function(t){return L(t[1])}),S.exit().transition().duration(u).delay(l).style("opacity",1e-6).attr("y1",function(t){return L(t[0])}).attr("y2",function(t){return L(t[1])}).remove();var M=b.selectAll("rect.box").data([k]);M.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(t){return R(t[2])}).attr("width",a).attr("height",function(t){return R(t[0])-R(t[2])}).style("fill-opacity",g?.1:1).transition().duration(u).delay(l).attr("y",function(t){return L(t[2])}).attr("height",function(t){return L(t[0])-L(t[2])}),M.transition().duration(u).delay(l).attr("width",a).attr("y",function(t){return L(t[2])}).attr("height",function(t){return L(t[0])-L(t[2])});var O=b.selectAll("line.median").data([k[1]]);O.enter().append("line").attr("class","median").attr("x1",0).attr("y1",R).attr("x2",a).attr("y2",R).transition().duration(u).delay(l).attr("y1",L).attr("y2",L),O.transition().duration(u).delay(l).attr("x1",0).attr("x2",a).attr("y1",L).attr("y2",L);var B=b.selectAll("line.whisker").data(D||[]);if(B.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",R).attr("x2",a).attr("y2",R).style("opacity",1e-6).transition().duration(u).delay(l).attr("y1",L).attr("y2",L).style("opacity",1),B.transition().duration(u).delay(l).attr("x1",0).attr("x2",a).attr("y1",L).attr("y2",L).style("opacity",1),B.exit().transition().duration(u).delay(l).attr("y1",L).attr("y2",L).style("opacity",1e-6).remove(),m){var F=A?"outlierBold":"outlier",T=A?3:5,N=A?function(){return Math.floor(Math.random()*(a*y)+1+(a-a*y)/2)}:function(){return a/2},H=b.selectAll("circle."+F).data(C,Number);H.enter().insert("circle","text").attr("class",F).attr("r",T).attr("cx",N).attr("cy",function(t){return R(e[t])}).style("opacity",1e-6).transition().duration(u).delay(l).attr("cy",function(t){return L(e[t])}).style("opacity",.6),x&&(H.selectAll("title").remove(),H.append("title").text(function(t){return e[t]})),H.transition().duration(u).delay(l).attr("cx",N).attr("cy",function(t){return L(e[t])}).style("opacity",.6),H.exit().transition().duration(u).delay(l).attr("cy",0).style("opacity",1e-6).remove()}if(g){var G=b.selectAll("circle.data").data(E);G.enter().insert("circle","text").attr("class","data").attr("r",p).attr("cx",function(){return Math.floor(Math.random()*(a*y)+1+(a-a*y)/2)}).attr("cy",function(t){return R(e[t])}).style("opacity",1e-6).transition().duration(u).delay(l).attr("cy",function(t){return L(e[t])}).style("opacity",v),x&&(G.selectAll("title").remove(),G.append("title").text(function(t){return e[t]})),G.transition().duration(u).delay(l).attr("cx",function(){return Math.floor(Math.random()*(a*y)+1+(a-a*y)/2)}).attr("cy",function(t){return L(e[t])}).style("opacity",v),G.exit().transition().duration(u).delay(l).attr("cy",0).style("opacity",1e-6).remove()}var z=h||L.tickFormat(8),P=b.selectAll("text.box").data(k);P.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(t,e){return 1&e?6:-6}).attr("x",function(t,e){return 1&e?a:0}).attr("y",R).attr("text-anchor",function(t,e){return 1&e?"start":"end"}).text(z).transition().duration(u).delay(l).attr("y",L),P.transition().duration(u).delay(l).text(z).attr("x",function(t,e){return 1&e?a:0}).attr("y",L);var U=b.selectAll("text.whisker").data(D||[]);U.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",a).attr("y",R).text(z).style("opacity",1e-6).transition().duration(u).delay(l).attr("y",L).style("opacity",1),U.transition().duration(u).delay(l).text(z).attr("x",a).attr("y",L).style("opacity",1),U.exit().transition().duration(u).delay(l).attr("y",L).style("opacity",1e-6).remove(),delete e.quartiles}}),t.timerFlush()}var a=1,o=1,u=0,l=0,c=null,s=Number,f=e,d=r,h=null,g=!1,p=3,v=.3,y=.8,x=!1,m=!0,A=!1;return i.width=function(t){return arguments.length?(a=t,i):a},i.height=function(t){return arguments.length?(o=t,i):o},i.tickFormat=function(t){return arguments.length?(h=t,i):h},i.showOutliers=function(t){return arguments.length?(m=t,i):m},i.boldOutlier=function(t){return arguments.length?(A=t,i):A},i.renderDataPoints=function(t){return arguments.length?(g=t,i):g},i.renderTitle=function(t){return arguments.length?(x=t,i):x},i.dataOpacity=function(t){return arguments.length?(v=t,i):v},i.dataWidthPortion=function(t){return arguments.length?(y=t,i):y},i.duration=function(t){return arguments.length?(u=t,i):u},i.domain=function(t){return arguments.length?(c=null===t?t:"function"==typeof t?t:n.utils.constant(t),i):c},i.value=function(t){return arguments.length?(s=t,i):s},i.whiskers=function(t){return arguments.length?(f=t,i):f},i.quartiles=function(t){return arguments.length?(d=t,i):d},i}}(),n.boxPlot=function(e,r){function i(){return t.min(u.data(),function(e){return t.min(u.valueAccessor()(e))})}function a(){return t.max(u.data(),function(e){return t.max(u.valueAccessor()(e))})}function o(){return(a()-i())/u.effectiveHeight()}var u=n.coordinateGridMixin({}),l=function(t){var e=t.quartiles[0],n=t.quartiles[2],r=1.5*(n-e),i=-1,a=t.length;do{++i}while(t[i]<e-r);do{--a}while(t[a]>n+r);return[i,a]},c=t.box(),s=null,f=!1,d=.3,h=.8,g=!0,p=!1,v=8,y=function(t,e){return u.isOrdinal()?u.x().bandwidth():t/(1+u.boxPadding())/e};u.x(t.scaleBand()),u.xUnits(n.units.ordinal),u.data(function(t){return t.all().map(function(t){return t.map=function(e){return e.call(t,t)},t}).filter(function(t){return 0!==u.valueAccessor()(t).length})}),u.boxPadding=u._rangeBandPadding,u.boxPadding(.8),u.outerPadding=u._outerRangeBandPadding,u.outerPadding(.5),u.boxWidth=function(t){return arguments.length?(y="function"==typeof t?t:n.utils.constant(t),u):y};var x=function(t,e){return"translate("+u.x()(u.keyAccessor()(t,e))+", 0)"};return u._preprocessData=function(){u.elasticX()&&u.x().domain([])},u.plotData=function(){var e=y(u.effectiveWidth(),u.xUnitCount());c.whiskers(l).width(e).height(u.effectiveHeight()).value(u.valueAccessor()).domain(u.y().domain()).duration(u.transitionDuration()).tickFormat(s).renderDataPoints(f).dataOpacity(d).dataWidthPortion(h).renderTitle(u.renderTitle()).showOutliers(g).boldOutlier(p);var r=u.chartBodyG().selectAll("g.box").data(u.data(),u.keyAccessor());!function(e){n.transition(e,u.transitionDuration(),u.transitionDelay()).attr("transform",x).call(c).each(function(e){var n=u.getColor(e,0);t.select(this).select("rect.box").attr("fill",n),t.select(this).selectAll("circle.data").attr("fill",n)})}(function(t){var e=t.enter().append("g");return e.attr("class","box").attr("transform",x).call(c).on("click",function(t){u.filter(u.keyAccessor()(t)),u.redrawGroup()}),e.merge(t)}(r)),r.exit().remove().call(c),u.fadeDeselectedArea(u.filter())},u.fadeDeselectedArea=function(t){if(u.hasFilter())if(u.isOrdinal())u.g().selectAll("g.box").each(function(t){u.isSelectedNode(t)?u.highlightSelected(this):u.fadeDeselected(this)});else{if(!u.brushOn()&&!u.parentBrushOn())return;var e=t[0],n=t[1],r=u.keyAccessor();u.g().selectAll("g.box").each(function(t){var i=r(t);i<e||i>=n?u.fadeDeselected(this):u.highlightSelected(this)})}else u.g().selectAll("g.box").each(function(){u.resetHighlight(this)})},u.isSelectedNode=function(t){return u.hasFilter(u.keyAccessor()(t))},u.yAxisMin=function(){var t=v*o();return n.utils.subtract(i()-t,u.yAxisPadding())},u.yAxisMax=function(){var t=v*o();return n.utils.add(a()+t,u.yAxisPadding())},u.tickFormat=function(t){return arguments.length?(s=t,u):s},u.yRangePadding=function(t){return arguments.length?(v=t,u):v},u.renderDataPoints=function(t){return arguments.length?(f=t,u):f},u.dataOpacity=function(t){return arguments.length?(d=t,u):d},u.dataWidthPortion=function(t){return arguments.length?(h=t,u):h},u.showOutliers=function(t){return arguments.length?(g=t,u):g},u.boldOutlier=function(t){return arguments.length?(p=t,u):p},u.anchor(e,r)},n.selectMenu=function(e,r){function i(e,n){var r,i=t.event.target;1===(r=i.selectedOptions?Array.prototype.slice.call(i.selectedOptions).map(function(t){return t.value}):[].slice.call(t.event.target.options).filter(function(t){return t.selected}).map(function(t){return t.value})).length&&""===r[0]?r=s||null:c||1!==r.length||(r=r[0]),u.onChange(r)}var a,o="dc-select-option",u=n.baseMixin({}),l="Select all",c=!1,s=null,f=null,d=function(t,e){return u.keyAccessor()(t)>u.keyAccessor()(e)?1:u.keyAccessor()(e)>u.keyAccessor()(t)?-1:0},h=function(t){return u.valueAccessor()(t)>0};u.data(function(t){return t.all().filter(h)}),u._doRender=function(){return u.select("select").remove(),(a=u.root().append("select").classed("dc-select-menu",!0)).append("option").text(l).attr("value",""),u._doRedraw(),u};var g=window.navigator.userAgent;return g.indexOf("Trident/")>0&&-1===g.indexOf("MSIE")&&(u.redraw=u.render),u._doRedraw=function(){return c?a.attr("multiple",!0):a.attr("multiple",null),null!==f?a.attr("size",f):a.attr("size",null),function(){var t=a.selectAll("option."+o).data(u.data(),function(t){return u.keyAccessor()(t)});t.exit().remove(),t.enter().append("option").classed(o,!0).attr("value",function(t){return u.keyAccessor()(t)}).merge(t).text(u.title()),a.selectAll("option."+o).sort(d),a.on("change",i)}(),u.hasFilter()&&c?a.selectAll("option").property("selected",function(t){return void 0!==t&&u.filters().indexOf(String(u.keyAccessor()(t)))>=0}):u.hasFilter()?a.property("value",u.filter()):a.property("value",""),u},u.onChange=function(t){t&&c?u.replaceFilter([t]):t?u.replaceFilter(t):u.filterAll(),n.events.trigger(function(){u.redrawGroup()})},u.order=function(t){return arguments.length?(d=t,u):d},u.promptText=function(t){return arguments.length?(l=t,u):l},u.filterDisplayed=function(t){return arguments.length?(h=t,u):h},u.multiple=function(t){return arguments.length?(c=t,u):c},u.promptValue=function(t){return arguments.length?(s=t,u):s},u.numberVisible=function(t){return arguments.length?(f=t,u):f},u.size=n.logger.deprecate(u.numberVisible,"selectMenu.size is ambiguous - use numberVisible instead"),u.anchor(e,r)},n.textFilterWidget=function(t,e){var r=n.baseMixin({}),i=function(t){return t.toLowerCase()},a=function(t){return t=i(t),function(e){return-1!==i(e).indexOf(t)}},o="search";return r.group(function(){throw"the group function on textFilterWidget should never be called, please report the issue"}),r._doRender=function(){return r.select("input").remove(),r.root().append("input").classed("dc-text-filter-input",!0).on("input",function(){r.dimension().filterFunction(a(this.value)),n.events.trigger(function(){n.redrawAll()},n.constants.EVENT_DELAY)}),r._doRedraw(),r},r._doRedraw=function(){return r.root().selectAll("input").attr("placeholder",o),r},r.normalize=function(t){return arguments.length?(i=t,r):i},r.placeHolder=function(t){return arguments.length?(o=t,r):o},r.filterFunctionFactory=function(t){return arguments.length?(a=t,r):a},r.anchor(t,e)},n.cboxMenu=function(e,r){function i(e,n){var r;t.select(t.event.target).datum()?(r=t.select(this).selectAll("input").filter(function(t){if(t)return this.checked}).nodes().map(function(t){return t.value}),c||1!==r.length||(r=r[0])):r=f||null,u.onChange(r)}var a,o="dc-cbox-item",u=n.baseMixin({}),l="Select all",c=!1,s="radio",f=null,d=Math.floor(1e5*Math.random())+1,h=function(t,e){return u.keyAccessor()(t)>u.keyAccessor()(e)?1:u.keyAccessor()(e)>u.keyAccessor()(t)?-1:0},g=function(t){return u.valueAccessor()(t)>0};return u.data(function(t){return t.all().filter(g)}),u._doRender=function(){return u._doRedraw()},u._doRedraw=function(){return u.select("ul").remove(),a=u.root().append("ul").classed("dc-cbox-group",!0),function(){var t=a.selectAll("li."+o).data(u.data(),function(t){return u.keyAccessor()(t)});if(t.exit().remove(),(t=t.enter().append("li").classed(o,!0).merge(t)).append("input").attr("type",s).attr("value",function(t){return u.keyAccessor()(t)}).attr("name","domain_"+d).attr("id",function(t,e){return"input_"+d+"_"+e}),t.append("label").attr("for",function(t,e){return"input_"+d+"_"+e}).text(u.title()),c)a.append("li").append("input").attr("type","reset").text(l).on("click",i);else{var e=a.append("li");e.append("input").attr("type",s).attr("value",f).attr("name","domain_"+d).attr("id",function(t,e){return"input_"+d+"_all"}).property("checked",!0),e.append("label").attr("for",function(t,e){return"input_"+d+"_all"}).text(l)}a.selectAll("li."+o).sort(h),a.on("change",i)}(),u.hasFilter()&&c?a.selectAll("input").property("checked",function(t){return t&&u.filters().indexOf(String(u.keyAccessor()(t)))>=0||!1}):u.hasFilter()&&a.selectAll("input").property("checked",function(t){return!!t&&u.keyAccessor()(t)===u.filter()}),u},u.onChange=function(t){t&&c?u.replaceFilter([t]):t?u.replaceFilter(t):u.filterAll(),n.events.trigger(function(){u.redrawGroup()})},u.order=function(t){return arguments.length?(h=t,u):h},u.promptText=function(t){return arguments.length?(l=t,u):l},u.filterDisplayed=function(t){return arguments.length?(g=t,u):g},u.multiple=function(t){return arguments.length?(s=(c=t)?"checkbox":"radio",u):c},u.promptValue=function(t){return arguments.length?(f=t,u):f},u.anchor(e,r)},n.abstractBubbleChart=n.bubbleMixin,n.baseChart=n.baseMixin,n.capped=n.capMixin,n.colorChart=n.colorMixin,n.coordinateGridChart=n.coordinateGridMixin,n.marginable=n.marginMixin,n.stackableChart=n.stackMixin,n.d3=t,n.crossfilter=e,n})?r.apply(e,i):r)||(t.exports=a)}()},237:function(t,e,n){"use strict";t.exports=function(t){return t}},240:function(t,e,n){"use strict";var r=n(237);function i(t){function e(t,e,r){for(var i=r-e,a=1+(i>>>1);--a>0;)n(t,a,i,e);return t}function n(e,n,r,i){for(var a,o=e[--i+n],u=t(o);(a=n<<1)<=r&&(a<r&&t(e[i+a])>t(e[i+a+1])&&a++,!(u<=t(e[i+a])));)e[i+n]=e[i+a],n=a;e[i+n]=o}return e.sort=function(t,e,r){for(var i,a=r-e;--a>0;)i=t[e],t[e]=t[e+a],t[e+a]=i,n(t,1,a,e);return t},e}t.exports=i(r),t.exports.by=i},241:function(t,e,n){"use strict";var r=n(237);function i(t){return function(e,n,r){for(var i=n+1;i<r;++i){for(var a=i,o=e[i],u=t(o);a>n&&t(e[a-1])>u;--a)e[a]=e[a-1];e[a]=o}return e}}t.exports=i(r),t.exports.by=i},475:function(t,e,n){t.exports=n(476).crossfilter},476:function(t,e,n){"use strict";var r=n(477),i=n(478),a=n(237),o=n(479),u=n(480),l=n(481),c=n(240),s=n(482),f=n(241),d=n(483),h=n(484),g=n(485),p=n(486),v=n(487),y=-1;function x(t,e){return(e<257?r.array8:e<65537?r.array16:r.array32)(t)}function m(t){for(var e=x(t,t),n=-1;++n<t;)e[n]=n;return e}function A(t){return 8===t?256:16===t?65536:4294967296}e.crossfilter=function(){var t,e={add:w,remove:function(e){for(var r=x(f,f),i=[],a="function"==typeof e,o=function(r){return a?e(n[r],r):t.zero(r)},u=0,l=0;u<f;++u)o(u)?(i.push(u),r[u]=y):r[u]=l++;p.forEach(function(t){t(-1,-1,[],i,!0)}),_.forEach(function(t){t(r)});for(var c=0,s=0;c<f;++c)r[c]!==y&&(c!==s&&(t.copy(s,c),n[s]=n[c]),++s);n.length=f=s,t.truncate(s),C("dataRemoved")},dimension:function(e,k){if("string"==typeof e){var w=e;e=function(t){return v(t,w)}}var D,E,L,R,S,M,O,B,F,T,N,H,G,z,P,U,Y={filter:function(t){return null==t?it():Array.isArray(t)?rt(t):"function"==typeof t?at(t):nt(t)},filterExact:nt,filterRange:rt,filterFunction:at,filterAll:it,currentFilter:function(){return z},hasCurrentFilter:function(){return P},top:function(e,r){var i,a=[],o=K,u=0;r&&r>0&&(u=r);for(;--o>=W&&e>0;)t.zero(i=M[o])&&(u>0?--u:(a.push(n[i]),--e));if(k)for(o=0;o<I.length&&e>0;o++)t.zero(i=I[o])&&(u>0?--u:(a.push(n[i]),--e));return a},bottom:function(e,r){var i,a,o=[],u=0;r&&r>0&&(u=r);if(k)for(i=0;i<I.length&&e>0;i++)t.zero(a=I[i])&&(u>0?--u:(o.push(n[a]),--e));i=W;for(;i<K&&e>0;)t.zero(a=M[i])&&(u>0?--u:(o.push(n[a]),--e)),i++;return o},group:ut,groupAll:function(){var t=ut(o),e=t.all;return delete t.all,delete t.top,delete t.order,delete t.orderNatural,delete t.size,t.value=function(){return e()[0].value},t},dispose:lt,remove:lt,accessor:e,id:function(){return R}},I=[],V=h.by(function(t){return O[t]}),j=i.filterAll,q=[],X=[],W=0,K=0,J=0;b.unshift($),b.push(Q),_.push(tt);var Z=t.add();function $(n,i,a){if(k){J=0,z=0,U=[];for(var o=0;o<n.length;o++)for(z=0,U=e(n[o]);z<U.length;z++)J++;O=[],T=m(n.length),H=x(J,1);for(var u=m(J),l=0,c=0;c<n.length;c++)if((U=e(n[c])).length)for(T[c]=U.length,z=0;z<U.length;z++)O.push(U[z]),u[l]=c,l++;else T[c]=0,I.push(c+i);var s=V(m(J),0,J);O=d(O,s),B=d(u,s)}else O=n.map(e),B=V(m(a),0,a),O=d(O,B);k&&(a=J);var h=j(O),g=h[0],p=h[1];if(G)for(var v=0;v<a;++v)G(O[v],v)||(t[L][B[v]+i]|=D,k&&(H[v]=1));else{for(var y=0;y<g;++y)t[L][B[y]+i]|=D,k&&(H[y]=1);for(var A=p;A<a;++A)t[L][B[A]+i]|=D,k&&(H[A]=1)}if(!i)return S=O,M=B,F=T,N=H,W=g,void(K=p);var b,_=S,w=M,C=N,E=0;if(o=0,k&&(b=i,i=_.length,a=J),S=k?new Array(i+a):new Array(f),M=k?new Array(i+a):x(f,f),k&&(N=x(i+a,1)),k){var R=F.length;F=r.arrayLengthen(F,f);for(var z=0;z+R<f;z++)F[z+R]=T[z]}for(var P=0;o<i&&E<a;++P)_[o]<O[E]?(S[P]=_[o],k&&(N[P]=C[o]),M[P]=w[o++]):(S[P]=O[E],k&&(N[P]=H[E]),M[P]=B[E++]+(k?b:i));for(;o<i;++o,++P)S[P]=_[o],k&&(N[P]=C[o]),M[P]=w[o];for(;E<a;++E,++P)S[P]=O[E],k&&(N[P]=H[E]),M[P]=B[E]+(k?b:i);h=j(S),W=h[0],K=h[1]}function Q(t,e,n){q.forEach(function(t){t(O,B,e,n)}),O=B=null}function tt(t){if(k){for(var e=0,n=0;e<I.length;e++)t[I[e]]!==y&&(I[n]=t[I[e]],n++);for(I.length=n,e=0,n=0;e<f;e++)t[e]!==y&&(n!==e&&(F[n]=F[e]),n++);F.length=n}for(var r,i=S.length,a=0,o=0;a<i;++a)r=M[a],t[r]!==y&&(a!==o&&(S[o]=S[a]),M[o]=t[r],k&&(N[o]=N[a]),++o);for(S.length=o,k&&(N.length=o);o<i;)M[o++]=0;var u=j(S);W=u[0],K=u[1]}function et(e){var n=e[0],r=e[1];if(G)return G=null,ot(function(t,e){return n<=e&&e<r},0===e[0]&&e[1]===S.length),W=n,K=r,Y;var i,a,o,u=[],l=[],c=[],s=[];if(n<W)for(i=n,a=Math.min(W,r);i<a;++i)u.push(M[i]),c.push(i);else if(n>W)for(i=W,a=Math.min(n,K);i<a;++i)l.push(M[i]),s.push(i);if(r>K)for(i=Math.max(n,K),a=r;i<a;++i)u.push(M[i]),c.push(i);else if(r<K)for(i=Math.max(W,r),a=K;i<a;++i)l.push(M[i]),s.push(i);if(k){var f=[],d=[];for(i=0;i<u.length;i++)F[u[i]]++,N[c[i]]=0,1===F[u[i]]&&(t[L][u[i]]^=D,f.push(u[i]));for(i=0;i<l.length;i++)F[l[i]]--,N[s[i]]=1,0===F[l[i]]&&(t[L][l[i]]^=D,d.push(l[i]));if(u=f,l=d,0===e[0]&&e[1]===S.length)for(i=0;i<I.length;i++)t[L][o=I[i]]&D&&(t[L][o]^=D,u.push(o));else for(i=0;i<I.length;i++)t[L][o=I[i]]&D||(t[L][o]^=D,l.push(o))}else{for(i=0;i<u.length;i++)t[L][u[i]]^=D;for(i=0;i<l.length;i++)t[L][l[i]]^=D}return W=n,K=r,p.forEach(function(t){t(D,L,u,l)}),C("filtered"),Y}function nt(t){return z=t,P=!0,et((j=i.filterExact(s,t))(S))}function rt(t){return z=t,P=!0,et((j=i.filterRange(s,t))(S))}function it(){return z=void 0,P=!1,et((j=i.filterAll)(S))}function at(t){z=t,P=!0,G=t,j=i.filterAll,ot(t,!1);var e=j(S);return W=e[0],K=e[1],Y}function ot(e,n){var r,i,a,o=[],u=[],l=[],c=[],s=S.length;if(!k)for(r=0;r<s;++r)!(t[L][i=M[r]]&D)^!!(a=e(S[r],r))&&(a?o.push(i):u.push(i));if(k)for(r=0;r<s;++r)e(S[r],r)?(o.push(M[r]),l.push(r)):(u.push(M[r]),c.push(r));if(k){var f=[],d=[];for(r=0;r<o.length;r++)1===N[l[r]]&&(F[o[r]]++,N[l[r]]=0,1===F[o[r]]&&(t[L][o[r]]^=D,f.push(o[r])));for(r=0;r<u.length;r++)0===N[c[r]]&&(F[u[r]]--,N[c[r]]=1,0===F[u[r]]&&(t[L][u[r]]^=D,d.push(u[r])));if(o=f,u=d,n)for(r=0;r<I.length;r++)t[L][i=I[r]]&D&&(t[L][i]^=D,o.push(i));else for(r=0;r<I.length;r++)t[L][i=I[r]]&D||(t[L][i]^=D,u.push(i))}else{for(r=0;r<o.length;r++)t[L][o[r]]&D&&(t[L][o[r]]&=E);for(r=0;r<u.length;r++)t[L][u[r]]&D||(t[L][u[r]]|=D)}p.forEach(function(t){t(D,L,o,u)}),C("filtered")}function ut(e){var i={top:function(t){var e=h(V(),0,s.length,t);return v.sort(e,0,e.length)},all:V,reduce:j,reduceCount:W,reduceSum:function(t){return j(g.reduceAdd(t),g.reduceSubtract(t),u)},order:K,orderNatural:function(){return K(a)},size:function(){return B},dispose:J,remove:J};X.push(i);var s,d,h,v,m,b,w,C,R=8,O=A(R),B=0,F=o,T=o,N=!0,H=e===o;function G(i,a,u,l){k&&(C=u,u=S.length-i.length,l=i.length);var c,h,g,v,y,_,D=s,M=k?[]:x(B,O),G=m,z=b,V=w,j=B,q=0,X=0;for(N&&(G=V=o),N&&(z=V=o),s=new Array(B),B=0,d=k?j?d:[]:j>1?r.arrayLengthen(d,f):x(f,O),j&&(g=(h=D[0]).key);X<l&&!((v=e(i[X]))>=v);)++X;for(;X<l;){for(h&&g<=v?(y=h,_=g,M[q]=B,(h=D[++q])&&(g=h.key)):(y={key:v,value:V()},_=v),s[B]=y;v<=_&&(c=a[X]+(k?C:u),k?d[c]?d[c].push(B):d[c]=[B]:d[c]=B,y.value=G(y.value,n[c],!0),t.zeroExcept(c,L,E)||(y.value=z(y.value,n[c],!1)),!(++X>=l));)v=e(i[X]);K()}for(;q<j;)s[M[q]=B]=D[q++],K();if(k)for(var W=0;W<f;W++)d[W]||(d[W]=[]);if(B>q)if(k)for(q=0;q<C;++q)for(W=0;W<d[q].length;W++)d[q][W]=M[d[q][W]];else for(q=0;q<u;++q)d[q]=M[d[q]];function K(){k?B++:++B===O&&(M=r.arrayWiden(M,R<<=1),d=r.arrayWiden(d,R),O=A(R))}c=p.indexOf(F),B>1||k?(F=P,T=Y):(!B&&H&&(B=1,s=[{key:null,value:V()}]),1===B?(F=U,T=I):(F=o,T=o),d=null),p[c]=F}function z(t){if(B>1||k){var e,n,r,i=B,a=s,u=x(i,i);if(k){for(e=0,r=0;e<f;++e)if(t[e]!==y){for(d[r]=d[e],n=0;n<d[r].length;n++)u[d[r][n]]=1;++r}}else for(e=0,r=0;e<f;++e)t[e]!==y&&(u[d[r]=d[e]]=1,++r);for(s=[],B=0,e=0;e<i;++e)u[e]&&(u[e]=B++,s.push(a[e]));if(B>1||k)if(k)for(e=0;e<r;++e)for(n=0;n<d[e].length;++n)d[e][n]=u[d[e][n]];else for(e=0;e<r;++e)d[e]=u[d[e]];else d=null;p[p.indexOf(F)]=B>1||k?(T=Y,F=P):1===B?(T=I,F=U):T=F=o}else if(1===B){if(H)return;for(var l=0;l<f;++l)if(t[l]!==y)return;s=[],B=0,p[p.indexOf(F)]=F=T=o}}function P(e,r,i,a,o){var u,l,c,f,h;if(!(e===D&&r===L||N))if(k){for(u=0,f=i.length;u<f;++u)if(t.zeroExcept(c=i[u],L,E))for(l=0;l<d[c].length;l++)(h=s[d[c][l]]).value=m(h.value,n[c],!1,l);for(u=0,f=a.length;u<f;++u)if(t.onlyExcept(c=a[u],L,E,r,e))for(l=0;l<d[c].length;l++)(h=s[d[c][l]]).value=b(h.value,n[c],o,l)}else{for(u=0,f=i.length;u<f;++u)t.zeroExcept(c=i[u],L,E)&&((h=s[d[c]]).value=m(h.value,n[c],!1));for(u=0,f=a.length;u<f;++u)t.onlyExcept(c=a[u],L,E,r,e)&&((h=s[d[c]]).value=b(h.value,n[c],o))}}function U(e,r,i,a,o){if(!(e===D&&r===L||N)){var u,l,c,f=s[0];for(u=0,c=i.length;u<c;++u)t.zeroExcept(l=i[u],L,E)&&(f.value=m(f.value,n[l],!1));for(u=0,c=a.length;u<c;++u)t.onlyExcept(l=a[u],L,E,r,e)&&(f.value=b(f.value,n[l],o))}}function Y(){var e,r,i;for(e=0;e<B;++e)s[e].value=w();if(k){for(e=0;e<f;++e)for(r=0;r<d[e].length;r++)(i=s[d[e][r]]).value=m(i.value,n[e],!0,r);for(e=0;e<f;++e)if(!t.zeroExcept(e,L,E))for(r=0;r<d[e].length;r++)(i=s[d[e][r]]).value=b(i.value,n[e],!1,r)}else{for(e=0;e<f;++e)(i=s[d[e]]).value=m(i.value,n[e],!0);for(e=0;e<f;++e)t.zeroExcept(e,L,E)||((i=s[d[e]]).value=b(i.value,n[e],!1))}}function I(){var e,r=s[0];for(r.value=w(),e=0;e<f;++e)r.value=m(r.value,n[e],!0);for(e=0;e<f;++e)t.zeroExcept(e,L,E)||(r.value=b(r.value,n[e],!1))}function V(){return N&&(T(),N=!1),s}function j(t,e,n){return m=t,b=e,w=n,N=!0,i}function W(){return j(g.reduceIncrement,g.reduceDecrement,u)}function K(t){function e(e){return t(e.value)}return h=l.by(e),v=c.by(e),i}function J(){var t=p.indexOf(F);return t>=0&&p.splice(t,1),(t=q.indexOf(G))>=0&&q.splice(t,1),(t=_.indexOf(z))>=0&&_.splice(t,1),(t=X.indexOf(i))>=0&&X.splice(t,1),i}return arguments.length<1&&(e=a),p.push(F),q.push(G),_.push(z),G(S,M,0,f),W().orderNatural()}function lt(){X.forEach(function(t){t.dispose()});var e=b.indexOf($);return e>=0&&b.splice(e,1),(e=b.indexOf(Q))>=0&&b.splice(e,1),(e=_.indexOf(tt))>=0&&_.splice(e,1),t.masks[L]&=E,it()}return L=Z.offset,D=Z.one,E=~D,R=L<<7|Math.log(D)/Math.log(2),$(n,0,f),Q(n,0,f),Y},groupAll:function(){var e,r,i,a,o={reduce:d,reduceCount:h,reduceSum:function(t){return d(g.reduceAdd(t),g.reduceSubtract(t),u)},value:function(){l&&(function(){var o;for(e=a(),o=0;o<f;++o)e=r(e,n[o],!0),t.zero(o)||(e=i(e,n[o],!1))}(),l=!1);return e},dispose:v,remove:v},l=!0;function c(a,o){var u;if(!l)for(u=o;u<f;++u)e=r(e,n[u],!0),t.zero(u)||(e=i(e,n[u],!1))}function s(a,o,u,c,s){var f,d,h;if(!l){for(f=0,h=u.length;f<h;++f)t.zero(d=u[f])&&(e=r(e,n[d],s));for(f=0,h=c.length;f<h;++f)t.only(d=c[f],o,a)&&(e=i(e,n[d],s))}}function d(t,e,n){return r=t,i=e,a=n,l=!0,o}function h(){return d(g.reduceIncrement,g.reduceDecrement,u)}function v(){var t=p.indexOf(s);return t>=0&&p.splice(t,1),(t=b.indexOf(c))>=0&&b.splice(t,1),o}return p.push(s),b.push(c),c(n,0),h()},size:function(){return f},all:function(){return n},allFiltered:function(e){var r=[],i=0,a=D(e||[]);for(i=0;i<f;i++)t.zeroExceptMask(i,a)&&r.push(n[i]);return r},onChange:function(t){if("function"!=typeof t)return void console.warn("onChange callback parameter must be a function!");return k.push(t),function(){k.splice(k.indexOf(t),1)}},isElementFiltered:function(e,n){var r=D(n||[]);return t.zeroExceptMask(e,r)}},n=[],f=0,p=[],b=[],_=[],k=[];function w(r){var i=f,a=r.length;return a&&(n=n.concat(r),t.lengthen(f+=a),b.forEach(function(t){t(r,i,a)}),C("dataAdded")),e}function D(e){var n,r,i,a,o=Array(t.subarrays);for(n=0;n<t.subarrays;n++)o[n]=-1;for(r=0,i=e.length;r<i;r++)a=e[r].id(),o[a>>7]&=~(1<<(63&a));return o}function C(t){for(var e=0;e<k.length;e++)k[e](t)}return t=new r.bitarray(0),arguments.length?w(arguments[0]):e},e.crossfilter.heap=c,e.crossfilter.heapselect=l,e.crossfilter.bisect=s,e.crossfilter.insertionsort=f,e.crossfilter.permute=d,e.crossfilter.quicksort=h,e.crossfilter.version=p.version},477:function(t,e){if("undefined"!=typeof Uint8Array)var n=function(t){return new Uint8Array(t)},r=function(t,e){if(t.length>=e)return t;var n=new t.constructor(e);return n.set(t),n},i=function(t,e){var n;switch(e){case 16:n=function(t){return new Uint16Array(t)}(t.length);break;case 32:n=function(t){return new Uint32Array(t)}(t.length);break;default:throw new Error("invalid array width!")}return n.set(t),n};function a(t){for(var e=new Array(t),n=-1;++n<t;)e[n]=0;return e}function o(t){this.length=t,this.subarrays=1,this.width=8,this.masks={0:0},this[0]=n(t)}o.prototype.lengthen=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)this[e]=r(this[e],t);this.length=t},o.prototype.add=function(){var t,e,r,a,o;for(a=0,o=this.subarrays;a<o;++a)if(r=~(t=this.masks[a])&-~t,!((e=this.width-32*a)>=32)||r)return e<32&&r&1<<e&&(this[a]=i(this[a],e<<=1),this.width=32*a+e),this.masks[a]|=r,{offset:a,one:r};return this[this.subarrays]=n(this.length),this.masks[this.subarrays]=1,this.width+=8,{offset:this.subarrays++,one:1}},o.prototype.copy=function(t,e){var n,r;for(n=0,r=this.subarrays;n<r;++n)this[n][t]=this[n][e]},o.prototype.truncate=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e){for(var r=this.length-1;r>=t;r--)this[e][r]=0;this[e].length=t}this.length=t},o.prototype.zero=function(t){var e,n;for(e=0,n=this.subarrays;e<n;++e)if(this[e][t])return!1;return!0},o.prototype.zeroExcept=function(t,e,n){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(r===e?this[r][t]&n:this[r][t])return!1;return!0},o.prototype.zeroExceptMask=function(t,e){var n,r;for(n=0,r=this.subarrays;n<r;++n)if(this[n][t]&e[n])return!1;return!0},o.prototype.only=function(t,e,n){var r,i;for(r=0,i=this.subarrays;r<i;++r)if(this[r][t]!=(r===e?n:0))return!1;return!0},o.prototype.onlyExcept=function(t,e,n,r,i){var a,o,u;for(o=0,u=this.subarrays;o<u;++o)if(a=this[o][t],o===e&&(a&=n),a!=(o===r?i:0))return!1;return!0},t.exports={array8:a,array16:a,array32:a,arrayLengthen:function(t,e){for(var n=t.length;n<e;)t[n++]=0;return t},arrayWiden:function(t,e){if(e>32)throw new Error("invalid array width!");return t},bitarray:o}},478:function(t,e,n){"use strict";t.exports={filterExact:function(t,e){return function(n){var r=n.length;return[t.left(n,e,0,r),t.right(n,e,0,r)]}},filterRange:function(t,e){var n=e[0],r=e[1];return function(e){var i=e.length;return[t.left(e,n,0,i),t.left(e,r,0,i)]}},filterAll:function(t){return[0,t.length]}}},479:function(t,e,n){"use strict";t.exports=function(){return null}},480:function(t,e,n){"use strict";t.exports=function(){return 0}},481:function(t,e,n){"use strict";var r=n(237),i=n(240);function a(t){var e=i.by(t);return function(n,r,i,a){var o,u,l,c=new Array(a=Math.min(i-r,a));for(u=0;u<a;++u)c[u]=n[r++];if(e(c,0,a),r<i){o=t(c[0]);do{t(l=n[r])>o&&(c[0]=l,o=t(e(c,0,a)[0]))}while(++r<i)}return c}}t.exports=a(r),t.exports.by=a},482:function(t,e,n){"use strict";var r=n(237);function i(t){function e(e,n,r,i){for(;r<i;){var a=r+i>>>1;n<t(e[a])?i=a:r=a+1}return r}return e.right=e,e.left=function(e,n,r,i){for(;r<i;){var a=r+i>>>1;t(e[a])<n?r=a+1:i=a}return r},e}t.exports=i(r),t.exports.by=i},483:function(t,e,n){"use strict";t.exports=function(t,e,n){for(var r=0,i=e.length,a=n?JSON.parse(JSON.stringify(t)):new Array(i);r<i;++r)a[r]=t[e[r]];return a}},484:function(t,e,n){var r=n(237),i=n(241);function a(t){var e=i.by(t);function n(r,i,a){return(a-i<o?e:function(e,r,i){var a,o=(i-r)/6|0,u=r+o,l=i-1-o,c=r+i-1>>1,s=c-o,f=c+o,d=e[u],h=t(d),g=e[s],p=t(g),v=e[c],y=t(v),x=e[f],m=t(x),A=e[l],b=t(A);h>p&&(a=d,d=g,g=a,a=h,h=p,p=a);m>b&&(a=x,x=A,A=a,a=m,m=b,b=a);h>y&&(a=d,d=v,v=a,a=h,h=y,y=a);p>y&&(a=g,g=v,v=a,a=p,p=y,y=a);h>m&&(a=d,d=x,x=a,a=h,h=m,m=a);y>m&&(a=v,v=x,x=a,a=y,y=m,m=a);p>b&&(a=g,g=A,A=a,a=p,p=b,b=a);p>y&&(a=g,g=v,v=a,a=p,p=y,y=a);m>b&&(a=x,x=A,A=a,a=m,m=b,b=a);var _=g,k=p,w=x,D=m;e[u]=d,e[s]=e[r],e[c]=v,e[f]=e[i-1],e[l]=A;var C=r+1,E=i-2,L=k<=D&&k>=D;if(L)for(var R=C;R<=E;++R){var S=e[R],M=t(S);if(M<k)R!==C&&(e[R]=e[C],e[C]=S),++C;else if(M>k)for(;;){var O=t(e[E]);if(!(O>k)){if(O<k){e[R]=e[C],e[C++]=e[E],e[E--]=S;break}e[R]=e[E],e[E--]=S;break}E--}}else!function(){for(var n=C;n<=E;n++){var r=e[n],i=t(r);if(i<k)n!==C&&(e[n]=e[C],e[C]=r),++C;else if(i>D)for(;;){var a=t(e[E]);if(!(a>D)){a<k?(e[n]=e[C],e[C++]=e[E],e[E--]=r):(e[n]=e[E],e[E--]=r);break}if(--E<n)break}}}();if(e[r]=e[C-1],e[C-1]=_,e[i-1]=e[E+1],e[E+1]=w,n(e,r,C-1),n(e,E+2,i),L)return e;C<u&&E>l&&function(){for(var n,r;(n=t(e[C]))<=k&&n>=k;)++C;for(;(r=t(e[E]))<=D&&r>=D;)--E;for(var i=C;i<=E;i++){var a=e[i],o=t(a);if(o<=k&&o>=k)i!==C&&(e[i]=e[C],e[C]=a),C++;else if(o<=D&&o>=D)for(;;){if(!((r=t(e[E]))<=D&&r>=D)){r<k?(e[i]=e[C],e[C++]=e[E],e[E--]=a):(e[i]=e[E],e[E--]=a);break}if(--E<i)break}}}();return n(e,C,E+1)})(r,i,a)}return n}var o=32;t.exports=a(r),t.exports.by=a},485:function(t,e,n){"use strict";t.exports={reduceIncrement:function(t){return t+1},reduceDecrement:function(t){return t-1},reduceAdd:function(t){return function(e,n){return e+ +t(n)}},reduceSubtract:function(t){return function(e,n){return e-t(n)}}}},486:function(t){t.exports={_args:[["crossfilter2@1.4.6","/Users/bud/DoctorBud/smartdown"]],_from:"crossfilter2@1.4.6",_id:"crossfilter2@1.4.6",_inBundle:!1,_integrity:"sha512-Fdmb6NqdUqreOuQ9qiNvTLOxMFBQRPDeRBBnqM8Zlebdf2i7Bn5hRhE8RlO9YzbGRyYxvYzdDXt6C1muyanolg==",_location:"/crossfilter2",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"crossfilter2@1.4.6",name:"crossfilter2",escapedName:"crossfilter2",rawSpec:"1.4.6",saveSpec:null,fetchSpec:"1.4.6"},_requiredBy:["/dc"],_resolved:"https://registry.npmjs.org/crossfilter2/-/crossfilter2-1.4.6.tgz",_spec:"1.4.6",_where:"/Users/bud/DoctorBud/smartdown",author:{name:"Mike Bostock",url:"http://bost.ocks.org/mike"},bugs:{url:"https://github.com/crossfilter/crossfilter/issues"},contributors:[{name:"Jason Davies",url:"http://www.jasondavies.com/"}],dependencies:{"lodash.result":"^4.4.0"},description:"Fast multidimensional filtering for coordinated views.",devDependencies:{browserify:"^13.0.0",d3:"3.5",eslint:"2.10.2","package-json-versionify":"1.0.2",semver:"^5.3.0",sinon:"^4.0.2","uglify-js":"2.4.0",vows:"0.7.0"},eslintConfig:{env:{browser:!0,node:!0},globals:{Uint8Array:!0,Uint16Array:!0,Uint32Array:!0},extends:"eslint:recommended"},files:["src","index.js","index.d.ts","crossfilter.js","crossfilter.min.js"],homepage:"https://crossfilter.github.io/crossfilter/",keywords:["analytics","visualization","crossfilter"],license:"Apache-2.0",main:"./index.js",maintainers:[{name:"Gordon Woodhull",url:"https://github.com/gordonwoodhull"},{name:"Tanner Linsley",url:"https://github.com/tannerlinsley"},{name:"Ethan Jewett",url:"https://github.com/esjewett"}],name:"crossfilter2",repository:{type:"git",url:"git+ssh://git@github.com/crossfilter/crossfilter.git"},scripts:{benchmark:"node test/benchmark.js",build:"browserify index.js -t package-json-versionify --standalone crossfilter -o crossfilter.js && uglifyjs --compress --mangle --screw-ie8 crossfilter.js -o crossfilter.min.js",clean:"rm -f crossfilter.js crossfilter.min.js",test:"vows --verbose && eslint src/"},types:"./index.d.ts",unpkg:"./crossfilter.min.js",version:"1.4.6"}},487:function(t,e,n){(function(e){var n="Expected a function",r="__lodash_hash_undefined__",i=1/0,a="[object Function]",o="[object GeneratorFunction]",u="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,g="object"==typeof e&&e&&e.Object===Object&&e,p="object"==typeof self&&self&&self.Object===Object&&self,v=g||p||Function("return this")();var y=Array.prototype,x=Function.prototype,m=Object.prototype,A=v["__core-js_shared__"],b=function(){var t=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),_=x.toString,k=m.hasOwnProperty,w=m.toString,D=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=v.Symbol,E=y.splice,L=G(v,"Map"),R=G(Object,"create"),S=C?C.prototype:void 0,M=S?S.toString:void 0;function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function B(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function T(t,e){for(var n=t.length;n--;)if(Y(t[n][0],e))return n;return-1}function N(t){return!(!j(t)||function(t){return!!b&&b in t}(t))&&(V(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?D:h).test(function(t){if(null!=t){try{return _.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function H(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function G(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return N(n)?n:void 0}O.prototype.clear=function(){this.__data__=R?R(null):{}},O.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},O.prototype.get=function(t){var e=this.__data__;if(R){var n=e[t];return n===r?void 0:n}return k.call(e,t)?e[t]:void 0},O.prototype.has=function(t){var e=this.__data__;return R?void 0!==e[t]:k.call(e,t)},O.prototype.set=function(t,e){return this.__data__[t]=R&&void 0===e?r:e,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(t){var e=this.__data__,n=T(e,t);return!(n<0||(n==e.length-1?e.pop():E.call(e,n,1),0))},B.prototype.get=function(t){var e=this.__data__,n=T(e,t);return n<0?void 0:e[n][1]},B.prototype.has=function(t){return T(this.__data__,t)>-1},B.prototype.set=function(t,e){var n=this.__data__,r=T(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},F.prototype.clear=function(){this.__data__={hash:new O,map:new(L||B),string:new O}},F.prototype.delete=function(t){return H(this,t).delete(t)},F.prototype.get=function(t){return H(this,t).get(t)},F.prototype.has=function(t){return H(this,t).has(t)},F.prototype.set=function(t,e){return H(this,t).set(t,e),this};var z=U(function(t){t=function(t){return null==t?"":function(t){if("string"==typeof t)return t;if(q(t))return M?M.call(t):"";var e=t+"";return"0"==e&&1/t==-i?"-0":e}(t)}(t);var e=[];return s.test(t)&&e.push(""),t.replace(f,function(t,n,r,i){e.push(r?i.replace(d,"$1"):n||t)}),e});function P(t){if("string"==typeof t||q(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function U(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o),o};return r.cache=new(U.Cache||F),r}function Y(t,e){return t===e||t!=t&&e!=e}U.Cache=F;var I=Array.isArray;function V(t){var e=j(t)?w.call(t):"";return e==a||e==o}function j(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function q(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&w.call(t)==u}t.exports=function(t,e,n){var r=-1,i=(e=function(t,e){if(I(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!q(t))||c.test(t)||!l.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return I(t)?t:z(t)}(e)).length;for(i||(t=void 0,i=1);++r<i;){var a=null==t?void 0:t[P(e[r])];void 0===a&&(r=i,a=n),t=V(a)?a.call(t):a}return t}}).call(this,n(12))}}]);
//# sourceMappingURL=smartdown_vendors~d3dc.js.map